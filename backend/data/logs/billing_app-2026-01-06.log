2026-01-06 18:22:36,372 - main - INFO - logger.py:128 - ================================================================================
2026-01-06 18:22:36,372 - main - INFO - logger.py:129 - ‚úÖ Logging configured for Windows
2026-01-06 18:22:36,372 - main - INFO - logger.py:130 - üìÅ Log file: D:\Siri-apps\Siri-billing-app\backend\data\logs\billing_app-2026-01-06.log
2026-01-06 18:22:36,374 - main - INFO - logger.py:131 - üóìÔ∏è Retention: 30 days
2026-01-06 18:22:36,374 - main - INFO - logger.py:134 - üîÑ Rotation: Manual (Windows mode - prevents file locking)
2026-01-06 18:22:36,375 - main - INFO - logger.py:138 - ================================================================================
2026-01-06 18:22:36,375 - main - INFO - main.py:93 -  Billing Flask server starting up...
2026-01-06 18:22:36,375 - main - INFO - main.py:94 - JWT Configuration:
2026-01-06 18:22:36,375 - main - INFO - main.py:95 - JWT_TOKEN_LOCATION: ['headers', 'cookies']
2026-01-06 18:22:36,375 - main - INFO - main.py:96 - JWT_COOKIE_NAME: access_token_cookie
2026-01-06 18:22:36,375 - main - INFO - main.py:97 - JWT_COOKIE_SECURE: False
2026-01-06 18:22:36,375 - main - INFO - main.py:98 - JWT_COOKIE_SAMESITE: Lax
2026-01-06 18:22:36,375 - main - INFO - main.py:99 - JWT_ACCESS_TOKEN_EXPIRES: 2:00:00
2026-01-06 18:22:36,375 - main - INFO - main.py:100 - JWT_ACCESS_COOKIE_PATH: /
2026-01-06 18:22:36,375 - main - INFO - main.py:101 - JWT_COOKIE_DOMAIN: None
2026-01-06 18:22:36,394 - main - INFO - main.py:226 - Billing Flask server starting...
2026-01-06 18:22:36,394 - main - INFO - main.py:229 - Billing app will run on localhost:8080
2026-01-06 18:22:36,394 - main - INFO - main.py:230 - CORS: Accepting all requests from local machine
2026-01-06 18:22:36,395 - main - INFO - background_tasks.py:35 - Starting initial full sync for missing JSON files.
2026-01-06 18:22:36,395 - main - INFO - background_tasks.py:185 - Background pull sync scheduler (Supabase -> JSON) started.
2026-01-06 18:22:36,395 - main - INFO - background_tasks.py:65 - JSON file for Products already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\products.json. Skipping initial full pull.
2026-01-06 18:22:36,396 - main - INFO - background_tasks.py:140 - Starting background JSON to Supabase push sync scheduler.
2026-01-06 18:22:36,396 - main - INFO - background_tasks.py:192 - Background JSON to Supabase push sync scheduler (JSON -> Supabase) started.
2026-01-06 18:22:36,396 - main - INFO - background_tasks.py:65 - JSON file for Customers already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\customers.json. Skipping initial full pull.
2026-01-06 18:22:36,397 - main - INFO - background_tasks.py:142 - Background JSON to Supabase push sync starting. Next push in 5 minutes.
2026-01-06 18:22:36,397 - main - INFO - background_tasks.py:65 - JSON file for Users already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\users.json. Skipping initial full pull.
2026-01-06 18:22:36,400 - main - INFO - background_tasks.py:65 - JSON file for Stores already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\stores.json. Skipping initial full pull.
2026-01-06 18:22:36,402 - main - INFO - background_tasks.py:65 - JSON file for SystemSettings already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\system_settings.json. Skipping initial full pull.
2026-01-06 18:22:36,405 - main - INFO - background_tasks.py:65 - JSON file for Returns already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\returns.json. Skipping initial full pull.
2026-01-06 18:22:36,406 - main - INFO - background_tasks.py:65 - JSON file for Bills already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\bills.json. Skipping initial full pull.
2026-01-06 18:22:36,406 - main - INFO - background_tasks.py:65 - JSON file for BillFormats already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json. Skipping initial full pull.
2026-01-06 18:22:36,406 - main - INFO - background_tasks.py:65 - JSON file for UserStores already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\userstores.json. Skipping initial full pull.
2026-01-06 18:22:36,407 - main - INFO - background_tasks.py:66 - Initial full sync completed.
2026-01-06 18:22:36,407 - main - INFO - background_tasks.py:76 - Background pull sync starting. Next sync in 5 minutes.
2026-01-06 18:22:36,407 - main - DEBUG - background_tasks.py:81 - Delta pull for Products with last_sync: None
2026-01-06 18:22:37,300 - main - INFO - logger.py:128 - ================================================================================
2026-01-06 18:22:37,300 - main - INFO - logger.py:129 - ‚úÖ Logging configured for Windows
2026-01-06 18:22:37,300 - main - INFO - logger.py:130 - üìÅ Log file: D:\Siri-apps\Siri-billing-app\backend\data\logs\billing_app-2026-01-06.log
2026-01-06 18:22:37,300 - main - INFO - logger.py:131 - üóìÔ∏è Retention: 30 days
2026-01-06 18:22:37,300 - main - INFO - logger.py:134 - üîÑ Rotation: Manual (Windows mode - prevents file locking)
2026-01-06 18:22:37,300 - main - INFO - logger.py:138 - ================================================================================
2026-01-06 18:22:37,300 - main - INFO - main.py:93 -  Billing Flask server starting up...
2026-01-06 18:22:37,300 - main - INFO - main.py:94 - JWT Configuration:
2026-01-06 18:22:37,300 - main - INFO - main.py:95 - JWT_TOKEN_LOCATION: ['headers', 'cookies']
2026-01-06 18:22:37,300 - main - INFO - main.py:96 - JWT_COOKIE_NAME: access_token_cookie
2026-01-06 18:22:37,300 - main - INFO - main.py:97 - JWT_COOKIE_SECURE: False
2026-01-06 18:22:37,300 - main - INFO - main.py:98 - JWT_COOKIE_SAMESITE: Lax
2026-01-06 18:22:37,310 - main - INFO - main.py:99 - JWT_ACCESS_TOKEN_EXPIRES: 2:00:00
2026-01-06 18:22:37,310 - main - INFO - main.py:100 - JWT_ACCESS_COOKIE_PATH: /
2026-01-06 18:22:37,310 - main - INFO - main.py:101 - JWT_COOKIE_DOMAIN: None
2026-01-06 18:22:37,311 - main - INFO - main.py:226 - Billing Flask server starting...
2026-01-06 18:22:37,311 - main - INFO - main.py:229 - Billing app will run on localhost:8080
2026-01-06 18:22:37,311 - main - INFO - main.py:230 - CORS: Accepting all requests from local machine
2026-01-06 18:22:37,325 - main - INFO - background_tasks.py:35 - Starting initial full sync for missing JSON files.
2026-01-06 18:22:37,325 - main - INFO - background_tasks.py:185 - Background pull sync scheduler (Supabase -> JSON) started.
2026-01-06 18:22:37,325 - main - INFO - background_tasks.py:65 - JSON file for Products already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\products.json. Skipping initial full pull.
2026-01-06 18:22:37,326 - main - INFO - background_tasks.py:140 - Starting background JSON to Supabase push sync scheduler.
2026-01-06 18:22:37,326 - main - INFO - background_tasks.py:192 - Background JSON to Supabase push sync scheduler (JSON -> Supabase) started.
2026-01-06 18:22:37,326 - main - INFO - background_tasks.py:65 - JSON file for Customers already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\customers.json. Skipping initial full pull.
2026-01-06 18:22:37,327 - main - INFO - background_tasks.py:142 - Background JSON to Supabase push sync starting. Next push in 5 minutes.
2026-01-06 18:22:37,327 - main - INFO - background_tasks.py:65 - JSON file for Users already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\users.json. Skipping initial full pull.
2026-01-06 18:22:37,329 - main - INFO - background_tasks.py:65 - JSON file for Stores already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\stores.json. Skipping initial full pull.
2026-01-06 18:22:37,330 - main - INFO - background_tasks.py:65 - JSON file for SystemSettings already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\system_settings.json. Skipping initial full pull.
2026-01-06 18:22:37,331 - main - INFO - background_tasks.py:65 - JSON file for Returns already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\returns.json. Skipping initial full pull.
2026-01-06 18:22:37,333 - main - INFO - background_tasks.py:65 - JSON file for Bills already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\bills.json. Skipping initial full pull.
2026-01-06 18:22:37,333 - main - INFO - background_tasks.py:65 - JSON file for BillFormats already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json. Skipping initial full pull.
2026-01-06 18:22:37,334 - main - INFO - background_tasks.py:65 - JSON file for UserStores already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\userstores.json. Skipping initial full pull.
2026-01-06 18:22:37,334 - main - INFO - background_tasks.py:66 - Initial full sync completed.
2026-01-06 18:22:37,335 - main - INFO - background_tasks.py:76 - Background pull sync starting. Next sync in 5 minutes.
2026-01-06 18:22:37,335 - main - DEBUG - background_tasks.py:81 - Delta pull for Products with last_sync: None
2026-01-06 18:22:37,796 - main - INFO - background_tasks.py:86 - Delta pull sync for Products completed successfully.
2026-01-06 18:22:37,796 - main - INFO - background_tasks.py:90 - Found 8 new/updated records for Products.
2026-01-06 18:22:37,808 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\products.json for Products.
2026-01-06 18:22:37,808 - main - DEBUG - background_tasks.py:81 - Delta pull for Customers with last_sync: None
2026-01-06 18:22:37,812 - main - INFO - background_tasks.py:86 - Delta pull sync for Products completed successfully.
2026-01-06 18:22:37,813 - main - INFO - background_tasks.py:90 - Found 8 new/updated records for Products.
2026-01-06 18:22:37,818 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\products.json for Products.
2026-01-06 18:22:37,818 - main - DEBUG - background_tasks.py:81 - Delta pull for Customers with last_sync: None
2026-01-06 18:22:38,038 - main - INFO - background_tasks.py:86 - Delta pull sync for Customers completed successfully.
2026-01-06 18:22:38,038 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for Customers.
2026-01-06 18:22:38,038 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\customers.json for Customers.
2026-01-06 18:22:38,049 - main - DEBUG - background_tasks.py:81 - Delta pull for Users with last_sync: None
2026-01-06 18:22:38,072 - main - INFO - background_tasks.py:86 - Delta pull sync for Customers completed successfully.
2026-01-06 18:22:38,072 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for Customers.
2026-01-06 18:22:38,080 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\customers.json for Customers.
2026-01-06 18:22:38,081 - main - DEBUG - background_tasks.py:81 - Delta pull for Users with last_sync: None
2026-01-06 18:22:38,226 - main - INFO - background_tasks.py:86 - Delta pull sync for Users completed successfully.
2026-01-06 18:22:38,226 - main - INFO - background_tasks.py:90 - Found 3 new/updated records for Users.
2026-01-06 18:22:38,226 - main - INFO - background_tasks.py:98 - Filtered out admin/super_admin users. 2 users remaining.
2026-01-06 18:22:38,227 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\users.json for Users.
2026-01-06 18:22:38,228 - main - DEBUG - background_tasks.py:81 - Delta pull for Stores with last_sync: None
2026-01-06 18:22:38,239 - main - INFO - background_tasks.py:86 - Delta pull sync for Users completed successfully.
2026-01-06 18:22:38,240 - main - INFO - background_tasks.py:90 - Found 3 new/updated records for Users.
2026-01-06 18:22:38,240 - main - INFO - background_tasks.py:98 - Filtered out admin/super_admin users. 2 users remaining.
2026-01-06 18:22:38,244 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\users.json for Users.
2026-01-06 18:22:38,244 - main - DEBUG - background_tasks.py:81 - Delta pull for Stores with last_sync: None
2026-01-06 18:22:38,400 - main - INFO - background_tasks.py:86 - Delta pull sync for Stores completed successfully.
2026-01-06 18:22:38,403 - main - INFO - background_tasks.py:90 - Found 8 new/updated records for Stores.
2026-01-06 18:22:38,405 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\stores.json for Stores.
2026-01-06 18:22:38,405 - main - DEBUG - background_tasks.py:81 - Delta pull for SystemSettings with last_sync: None
2026-01-06 18:22:38,419 - main - INFO - background_tasks.py:86 - Delta pull sync for Stores completed successfully.
2026-01-06 18:22:38,420 - main - INFO - background_tasks.py:90 - Found 8 new/updated records for Stores.
2026-01-06 18:22:38,426 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\stores.json for Stores.
2026-01-06 18:22:38,426 - main - DEBUG - background_tasks.py:81 - Delta pull for SystemSettings with last_sync: None
2026-01-06 18:22:38,629 - main - INFO - background_tasks.py:86 - Delta pull sync for SystemSettings completed successfully.
2026-01-06 18:22:38,629 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for SystemSettings.
2026-01-06 18:22:38,633 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\system_settings.json for SystemSettings.
2026-01-06 18:22:38,633 - main - DEBUG - background_tasks.py:81 - Delta pull for Returns with last_sync: None
2026-01-06 18:22:38,639 - main - INFO - background_tasks.py:86 - Delta pull sync for SystemSettings completed successfully.
2026-01-06 18:22:38,639 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for SystemSettings.
2026-01-06 18:22:38,653 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\system_settings.json for SystemSettings.
2026-01-06 18:22:38,653 - main - DEBUG - background_tasks.py:81 - Delta pull for Returns with last_sync: None
2026-01-06 18:22:38,803 - main - INFO - background_tasks.py:86 - Delta pull sync for Returns completed successfully.
2026-01-06 18:22:38,803 - main - INFO - background_tasks.py:90 - Found 2 new/updated records for Returns.
2026-01-06 18:22:38,810 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\returns.json for Returns.
2026-01-06 18:22:38,810 - main - DEBUG - background_tasks.py:81 - Delta pull for Bills with last_sync: None
2026-01-06 18:22:38,819 - main - INFO - background_tasks.py:86 - Delta pull sync for Returns completed successfully.
2026-01-06 18:22:38,819 - main - INFO - background_tasks.py:90 - Found 2 new/updated records for Returns.
2026-01-06 18:22:38,830 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\returns.json for Returns.
2026-01-06 18:22:38,830 - main - DEBUG - background_tasks.py:81 - Delta pull for Bills with last_sync: None
2026-01-06 18:22:38,961 - main - INFO - background_tasks.py:167 - Background JSON to Supabase push sync completed successfully. Stats: {'Products': {'pushed': 8}, 'Customers': {'pushed': 1}, 'Users': {'pushed': 2}, 'Stores': {'pushed': 8}, 'SystemSettings': {'pushed': 1}, 'Bills': {'pushed': 6}, 'BillFormats': {'pushed': 5}}
2026-01-06 18:22:38,984 - main - INFO - background_tasks.py:86 - Delta pull sync for Bills completed successfully.
2026-01-06 18:22:38,985 - main - INFO - background_tasks.py:90 - Found 6 new/updated records for Bills.
2026-01-06 18:22:38,988 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bills.json for Bills.
2026-01-06 18:22:38,990 - main - DEBUG - background_tasks.py:81 - Delta pull for BillFormats with last_sync: None
2026-01-06 18:22:39,002 - main - INFO - background_tasks.py:86 - Delta pull sync for Bills completed successfully.
2026-01-06 18:22:39,002 - main - INFO - background_tasks.py:90 - Found 6 new/updated records for Bills.
2026-01-06 18:22:39,007 - main - INFO - background_tasks.py:167 - Background JSON to Supabase push sync completed successfully. Stats: {'Products': {'pushed': 8}, 'Customers': {'pushed': 1}, 'Users': {'pushed': 2}, 'Stores': {'pushed': 8}, 'SystemSettings': {'pushed': 1}, 'Bills': {'pushed': 6}, 'BillFormats': {'pushed': 5}}
2026-01-06 18:22:39,010 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bills.json for Bills.
2026-01-06 18:22:39,011 - main - DEBUG - background_tasks.py:81 - Delta pull for BillFormats with last_sync: None
2026-01-06 18:22:39,150 - main - INFO - background_tasks.py:86 - Delta pull sync for BillFormats completed successfully.
2026-01-06 18:22:39,150 - main - INFO - background_tasks.py:90 - Found 5 new/updated records for BillFormats.
2026-01-06 18:22:39,161 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json for BillFormats.
2026-01-06 18:22:39,161 - main - DEBUG - background_tasks.py:81 - Delta pull for UserStores with last_sync: None
2026-01-06 18:22:39,177 - main - INFO - background_tasks.py:86 - Delta pull sync for BillFormats completed successfully.
2026-01-06 18:22:39,179 - main - INFO - background_tasks.py:90 - Found 5 new/updated records for BillFormats.
2026-01-06 18:22:39,186 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json for BillFormats.
2026-01-06 18:22:39,187 - main - DEBUG - background_tasks.py:81 - Delta pull for UserStores with last_sync: None
2026-01-06 18:22:39,327 - main - INFO - background_tasks.py:86 - Delta pull sync for UserStores completed successfully.
2026-01-06 18:22:39,327 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for UserStores.
2026-01-06 18:22:39,332 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\userstores.json for UserStores.
2026-01-06 18:22:39,363 - main - INFO - background_tasks.py:86 - Delta pull sync for UserStores completed successfully.
2026-01-06 18:22:39,364 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for UserStores.
2026-01-06 18:22:39,367 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\userstores.json for UserStores.
2026-01-06 18:24:34,522 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/auth/me
2026-01-06 18:24:34,522 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:34,522 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:34,522 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:24:34,522 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:34,840 - main - DEBUG - main.py:125 - [JWT] No token provided: Missing JWT in headers or cookies (Missing Authorization Header; Missing cookie "access_token_cookie")
2026-01-06 18:24:34,842 - main - DEBUG - main.py:126 - [JWT] Request cookies: ImmutableMultiDict([('wp-settings-time-1', '1754648779'), ('wp-settings-1', 'libraryContent%3Dbrowse%26editor%3Dtinymce'), ('tk_ai', 'HFrh3Q7NJ2avOVhVEaMHmexR'), ('rl_anonymous_id', 'RudderEncrypt%3AU2FsdGVkX1%2B67ZAAq5FMy2jXqQUWEejSAd2xAMt4RUHJebMk8h%2BV8qTf0u%2BcHgwjfPPveTUIwVZeXTLUmbXbug%3D%3D'), ('rl_page_init_referrer', 'RudderEncrypt%3AU2FsdGVkX1%2FNXEQluk7k%2FCtgt8h%2FwhlGcWzpauGXYbY%3D'), ('rl_page_init_referring_domain', 'RudderEncrypt%3AU2FsdGVkX1%2FUVj7nSIfJaQn829w8gAseY79QAIpRQBU%3D'), ('rl_user_id', 'RudderEncrypt%3AU2FsdGVkX19KV2hZseEbTzqeNN7RSWXAUI6K8fMk4OyFJf5FcQsp%2BfZqRM5PGV4sCbyarNsdXORhu0hgs1wCXgdNyfJ0cTG%2FmLuMnvXsOLGp%2BMPtZ8dTX9908Q6OBN5%2FEZN4%2BgBn%2F4uSLkK%2BfFs2uNgZC1jc7hJMdh5rR4hiKiQ%3D'), ('rl_trait', 'RudderEncrypt%3AU2FsdGVkX18%2FzoiAY62Xjv6L0%2FMfMZcLtkfBgBXsWjRE2SuQxqF4PTsp5wO%2BXrnADj4kBl2l57ahxxJ6sCsTgtwj96LdTu441Agy9GYUuV7MglA3Yt6%2B9ADaeUGv5A5mBSZmvICWJRlZUrpRWaARrQ%3D%3D'), ('rl_session', 'RudderEncrypt%3AU2FsdGVkX1%2B4WmoEay6nAA1D%2BEqsQ2NGv8%2BJmnC3CJSw%2BfTBD1t6haPA0vzGJZfKW2UH9GGa85YYZ%2B9A211xzCOayfr8HIJeA2j6Xucb254g59sfsmh6pjzB08A2QGS2hjTYvNnOuEqpWaOycnkfSQ%3D%3D'), ('ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog', '%7B%22distinct_id%22%3A%22702e7138742199d63ed3e8861cbcfa866113be365ce38372ac5c2c8f8b69a999%23b8c2a1a2-4a40-4ddb-9494-94d49dd56d7d%22%2C%22%24sesid%22%3A%5B1757600939966%2C%220199392d-ffc0-7de7-905d-640af80df164%22%2C1757600939966%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D'), ('session', '.eJwNylEKwyAMANC75HfNSNRM4zn2LzIVhK0Mawdj9O7d-34_SO86Xnmt64Q4x14XeOZtpvyY_dPnFyIYMoJskPydXXQ2Cl2DFxW5EEUiWGDf6ki9_DM59WxDRuVQ0AVR1FYyyq05to2b-grHCVRnISs.aUmCdw.pNUHP1N2vVNLuL2B2yfqKlZD-ME')])
2026-01-06 18:24:34,842 - main - DEBUG - main.py:127 - [JWT] Request headers: None
2026-01-06 18:24:34,843 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:34,843 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:24:34,843 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:35,108 - main - DEBUG - main.py:125 - [JWT] No token provided: Missing JWT in headers or cookies (Missing Authorization Header; Missing cookie "access_token_cookie")
2026-01-06 18:24:35,108 - main - DEBUG - main.py:126 - [JWT] Request cookies: ImmutableMultiDict([('wp-settings-time-1', '1754648779'), ('wp-settings-1', 'libraryContent%3Dbrowse%26editor%3Dtinymce'), ('tk_ai', 'HFrh3Q7NJ2avOVhVEaMHmexR'), ('rl_anonymous_id', 'RudderEncrypt%3AU2FsdGVkX1%2B67ZAAq5FMy2jXqQUWEejSAd2xAMt4RUHJebMk8h%2BV8qTf0u%2BcHgwjfPPveTUIwVZeXTLUmbXbug%3D%3D'), ('rl_page_init_referrer', 'RudderEncrypt%3AU2FsdGVkX1%2FNXEQluk7k%2FCtgt8h%2FwhlGcWzpauGXYbY%3D'), ('rl_page_init_referring_domain', 'RudderEncrypt%3AU2FsdGVkX1%2FUVj7nSIfJaQn829w8gAseY79QAIpRQBU%3D'), ('rl_user_id', 'RudderEncrypt%3AU2FsdGVkX19KV2hZseEbTzqeNN7RSWXAUI6K8fMk4OyFJf5FcQsp%2BfZqRM5PGV4sCbyarNsdXORhu0hgs1wCXgdNyfJ0cTG%2FmLuMnvXsOLGp%2BMPtZ8dTX9908Q6OBN5%2FEZN4%2BgBn%2F4uSLkK%2BfFs2uNgZC1jc7hJMdh5rR4hiKiQ%3D'), ('rl_trait', 'RudderEncrypt%3AU2FsdGVkX18%2FzoiAY62Xjv6L0%2FMfMZcLtkfBgBXsWjRE2SuQxqF4PTsp5wO%2BXrnADj4kBl2l57ahxxJ6sCsTgtwj96LdTu441Agy9GYUuV7MglA3Yt6%2B9ADaeUGv5A5mBSZmvICWJRlZUrpRWaARrQ%3D%3D'), ('rl_session', 'RudderEncrypt%3AU2FsdGVkX1%2B4WmoEay6nAA1D%2BEqsQ2NGv8%2BJmnC3CJSw%2BfTBD1t6haPA0vzGJZfKW2UH9GGa85YYZ%2B9A211xzCOayfr8HIJeA2j6Xucb254g59sfsmh6pjzB08A2QGS2hjTYvNnOuEqpWaOycnkfSQ%3D%3D'), ('ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog', '%7B%22distinct_id%22%3A%22702e7138742199d63ed3e8861cbcfa866113be365ce38372ac5c2c8f8b69a999%23b8c2a1a2-4a40-4ddb-9494-94d49dd56d7d%22%2C%22%24sesid%22%3A%5B1757600939966%2C%220199392d-ffc0-7de7-905d-640af80df164%22%2C1757600939966%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D'), ('session', '.eJwNylEKwyAMANC75HfNSNRM4zn2LzIVhK0Mawdj9O7d-34_SO86Xnmt64Q4x14XeOZtpvyY_dPnFyIYMoJskPydXXQ2Cl2DFxW5EEUiWGDf6ki9_DM59WxDRuVQ0AVR1FYyyq05to2b-grHCVRnISs.aUmCdw.pNUHP1N2vVNLuL2B2yfqKlZD-ME')])
2026-01-06 18:24:35,108 - main - DEBUG - main.py:127 - [JWT] Request headers: None
2026-01-06 18:24:35,110 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:35,110 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:24:35,110 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:35,320 - main - DEBUG - main.py:125 - [JWT] No token provided: Missing JWT in headers or cookies (Missing Authorization Header; Missing cookie "access_token_cookie")
2026-01-06 18:24:35,320 - main - DEBUG - main.py:126 - [JWT] Request cookies: ImmutableMultiDict([('wp-settings-time-1', '1754648779'), ('wp-settings-1', 'libraryContent%3Dbrowse%26editor%3Dtinymce'), ('tk_ai', 'HFrh3Q7NJ2avOVhVEaMHmexR'), ('rl_anonymous_id', 'RudderEncrypt%3AU2FsdGVkX1%2B67ZAAq5FMy2jXqQUWEejSAd2xAMt4RUHJebMk8h%2BV8qTf0u%2BcHgwjfPPveTUIwVZeXTLUmbXbug%3D%3D'), ('rl_page_init_referrer', 'RudderEncrypt%3AU2FsdGVkX1%2FNXEQluk7k%2FCtgt8h%2FwhlGcWzpauGXYbY%3D'), ('rl_page_init_referring_domain', 'RudderEncrypt%3AU2FsdGVkX1%2FUVj7nSIfJaQn829w8gAseY79QAIpRQBU%3D'), ('rl_user_id', 'RudderEncrypt%3AU2FsdGVkX19KV2hZseEbTzqeNN7RSWXAUI6K8fMk4OyFJf5FcQsp%2BfZqRM5PGV4sCbyarNsdXORhu0hgs1wCXgdNyfJ0cTG%2FmLuMnvXsOLGp%2BMPtZ8dTX9908Q6OBN5%2FEZN4%2BgBn%2F4uSLkK%2BfFs2uNgZC1jc7hJMdh5rR4hiKiQ%3D'), ('rl_trait', 'RudderEncrypt%3AU2FsdGVkX18%2FzoiAY62Xjv6L0%2FMfMZcLtkfBgBXsWjRE2SuQxqF4PTsp5wO%2BXrnADj4kBl2l57ahxxJ6sCsTgtwj96LdTu441Agy9GYUuV7MglA3Yt6%2B9ADaeUGv5A5mBSZmvICWJRlZUrpRWaARrQ%3D%3D'), ('rl_session', 'RudderEncrypt%3AU2FsdGVkX1%2B4WmoEay6nAA1D%2BEqsQ2NGv8%2BJmnC3CJSw%2BfTBD1t6haPA0vzGJZfKW2UH9GGa85YYZ%2B9A211xzCOayfr8HIJeA2j6Xucb254g59sfsmh6pjzB08A2QGS2hjTYvNnOuEqpWaOycnkfSQ%3D%3D'), ('ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog', '%7B%22distinct_id%22%3A%22702e7138742199d63ed3e8861cbcfa866113be365ce38372ac5c2c8f8b69a999%23b8c2a1a2-4a40-4ddb-9494-94d49dd56d7d%22%2C%22%24sesid%22%3A%5B1757600939966%2C%220199392d-ffc0-7de7-905d-640af80df164%22%2C1757600939966%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D'), ('session', '.eJwNylEKwyAMANC75HfNSNRM4zn2LzIVhK0Mawdj9O7d-34_SO86Xnmt64Q4x14XeOZtpvyY_dPnFyIYMoJskPydXXQ2Cl2DFxW5EEUiWGDf6ki9_DM59WxDRuVQ0AVR1FYyyq05to2b-grHCVRnISs.aUmCdw.pNUHP1N2vVNLuL2B2yfqKlZD-ME')])
2026-01-06 18:24:35,320 - main - DEBUG - main.py:127 - [JWT] Request headers: None
2026-01-06 18:24:35,320 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:35,320 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:24:35,320 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:46,687 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/auth/login
2026-01-06 18:24:46,687 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:46,687 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:46,687 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/login
2026-01-06 18:24:46,687 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:46,997 - main - INFO - auth_routes.py:24 - üîê [BACKEND-LOGIN] Login attempt for email: mailbox2249@gmail.com
2026-01-06 18:24:46,998 - main - INFO - auth_routes.py:25 - üìç [BACKEND-LOGIN] Request origin: http://localhost:3000
2026-01-06 18:24:47,747 - main - WARNING - auth_routes.py:49 - ‚ö†Ô∏è [BACKEND-LOGIN] Invalid password for user: mailbox2249@gmail.com
2026-01-06 18:24:47,749 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:47,750 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/login
2026-01-06 18:24:47,751 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:57,640 - main - INFO - auth_routes.py:24 - üîê [BACKEND-LOGIN] Login attempt for email: mailbox2249@gmail.com
2026-01-06 18:24:57,641 - main - INFO - auth_routes.py:25 - üìç [BACKEND-LOGIN] Request origin: http://localhost:3000
2026-01-06 18:24:57,828 - main - INFO - auth_routes.py:52 - ‚úÖ [BACKEND-LOGIN] User authenticated: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:24:57,829 - main - INFO - auth_routes.py:53 - üë§ [BACKEND-LOGIN] User name: V.NECKLECE
2026-01-06 18:24:57,829 - main - INFO - auth_routes.py:54 - üé≠ [BACKEND-LOGIN] User role: billing_user
2026-01-06 18:24:57,831 - main - INFO - auth_routes.py:68 - üé´ [BACKEND-LOGIN] JWT token created for user: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:24:57,831 - main - INFO - auth_routes.py:86 - üì§ [BACKEND-LOGIN] Sending response with JWT token in body and cookie
2026-01-06 18:24:57,832 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:57,832 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/login
2026-01-06 18:24:57,832 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:58,846 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/stores/current
2026-01-06 18:24:58,846 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:58,846 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:58,846 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores/current
2026-01-06 18:24:58,846 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:58,848 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/sync/status
2026-01-06 18:24:58,849 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:58,849 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:58,851 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/stores/current
2026-01-06 18:24:58,852 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/notifications
2026-01-06 18:24:58,852 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:24:58,852 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:58,854 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/returns/pending/count
2026-01-06 18:24:58,854 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:58,854 - main - INFO - auth_routes.py:125 - üë§ [BACKEND-ME] Fetching current user info for: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:24:58,854 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:58,854 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/sync/status
2026-01-06 18:24:58,854 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:58,854 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:58,854 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:58,854 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:58,854 - main - DEBUG - auth_routes.py:126 - üé´ [BACKEND-ME] JWT claims: {'fresh': False, 'iat': 1767704097, 'jti': 'b1c018f5-006a-486f-96e7-2d4d20b86f3c', 'type': 'access', 'sub': '0497138a-918d-4859-9fda-56f413f1f97e', 'nbf': 1767704097, 'exp': 1767711297, 'email': 'mailbox2249@gmail.com', 'name': 'V.NECKLECE', 'role': 'billing_user'}
2026-01-06 18:24:58,854 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores/current
2026-01-06 18:24:58,854 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:58,854 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:24:58,854 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:58,870 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:58,871 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:24:58,871 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:58,871 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:24:58,873 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:58,876 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,050 - main - INFO - auth_routes.py:146 - ‚úÖ [BACKEND-ME] Returning user: V.NECKLECE (mailbox2249@gmail.com)
2026-01-06 18:24:59,051 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,052 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:24:59,052 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,190 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:24:59,194 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/returns/pending/count
2026-01-06 18:24:59,194 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:59,195 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,195 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:24:59,195 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,197 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:24:59,203 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/notifications
2026-01-06 18:24:59,203 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:59,203 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,203 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:24:59,204 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,207 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:24:59,214 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:24:59,219 - main - INFO - auth_routes.py:125 - üë§ [BACKEND-ME] Fetching current user info for: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:24:59,223 - main - DEBUG - auth_routes.py:126 - üé´ [BACKEND-ME] JWT claims: {'fresh': False, 'iat': 1767704097, 'jti': 'b1c018f5-006a-486f-96e7-2d4d20b86f3c', 'type': 'access', 'sub': '0497138a-918d-4859-9fda-56f413f1f97e', 'nbf': 1767704097, 'exp': 1767711297, 'email': 'mailbox2249@gmail.com', 'name': 'V.NECKLECE', 'role': 'billing_user'}
2026-01-06 18:24:59,360 - main - INFO - store_routes.py:65 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their assigned store
2026-01-06 18:24:59,418 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/products
2026-01-06 18:24:59,420 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/settings
2026-01-06 18:24:59,421 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:59,421 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/users
2026-01-06 18:24:59,422 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:24:59,422 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:59,422 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/stores
2026-01-06 18:24:59,424 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,424 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:59,424 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,424 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:59,426 - main - DEBUG - main.py:166 - [CORS] Request path: /api/products
2026-01-06 18:24:59,426 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,427 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:24:59,427 - main - DEBUG - main.py:166 - [CORS] Request path: /api/settings
2026-01-06 18:24:59,428 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,428 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,428 - main - DEBUG - main.py:166 - [CORS] Request path: /api/users
2026-01-06 18:24:59,428 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,429 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores
2026-01-06 18:24:59,431 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,435 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,436 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:24:59,502 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/user-stores
2026-01-06 18:24:59,503 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:59,503 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,503 - main - DEBUG - main.py:166 - [CORS] Request path: /api/user-stores
2026-01-06 18:24:59,503 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,512 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/products
2026-01-06 18:24:59,512 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:59,512 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,512 - main - DEBUG - main.py:166 - [CORS] Request path: /api/products
2026-01-06 18:24:59,512 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,585 - main - INFO - store_routes.py:80 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e is assigned to store store3
2026-01-06 18:24:59,604 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,604 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:24:59,604 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,624 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:24:59,625 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,625 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:24:59,625 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,655 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:24:59,655 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,655 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:24:59,655 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,674 - main - INFO - product_routes.py:14 - üì¶ User 0497138a-918d-4859-9fda-56f413f1f97e fetching store inventory products
2026-01-06 18:24:59,701 - main - INFO - auth_routes.py:146 - ‚úÖ [BACKEND-ME] Returning user: V.NECKLECE (mailbox2249@gmail.com)
2026-01-06 18:24:59,701 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,701 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:24:59,701 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,738 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/settings
2026-01-06 18:24:59,738 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:59,738 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,738 - main - DEBUG - main.py:166 - [CORS] Request path: /api/settings
2026-01-06 18:24:59,738 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,739 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/users
2026-01-06 18:24:59,739 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:59,739 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,739 - main - DEBUG - main.py:166 - [CORS] Request path: /api/users
2026-01-06 18:24:59,739 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,742 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/stores
2026-01-06 18:24:59,742 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:59,742 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,742 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores
2026-01-06 18:24:59,742 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,743 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/user-stores
2026-01-06 18:24:59,743 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:59,743 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,744 - main - DEBUG - main.py:166 - [CORS] Request path: /api/user-stores
2026-01-06 18:24:59,744 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,752 - main - INFO - store_routes.py:93 - ‚úÖ Found store: SIRI ART JEWELLERY - Mall (ID: store3)
2026-01-06 18:24:59,753 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,753 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores/current
2026-01-06 18:24:59,753 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:24:59,824 - main - INFO - product_routes.py:33 - üìç Fetching inventory for store: store3
2026-01-06 18:24:59,920 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:24:59,937 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:24:59,973 - main - DEBUG - main.py:187 - [CORS-PREFLIGHT] Handling OPTIONS request for /api/notifications/unread/count
2026-01-06 18:24:59,973 - main - DEBUG - main.py:201 - [CORS-PREFLIGHT] Allowed for origin: http://localhost:3000
2026-01-06 18:24:59,973 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:24:59,975 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:24:59,976 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:24:59,976 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:00,006 - main - INFO - product_routes.py:47 - üì¶ Found 2 inventory items
2026-01-06 18:25:00,020 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:00,068 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:00,079 - main - INFO - settings_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching settings
2026-01-06 18:25:00,089 - main - INFO - user_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching all users
2026-01-06 18:25:00,133 - main - INFO - store_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching stores
2026-01-06 18:25:00,161 - main - INFO - product_routes.py:113 - ‚úÖ Returning 2 products from store inventory
2026-01-06 18:25:00,161 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:00,161 - main - DEBUG - main.py:166 - [CORS] Request path: /api/products
2026-01-06 18:25:00,162 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:00,193 - main - INFO - store_routes.py:35 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their user-stores
2026-01-06 18:25:00,245 - main - INFO - settings_routes.py:45 - ‚úÖ Settings fetched with tax: 12.1%
2026-01-06 18:25:00,246 - main - INFO - settings_routes.py:46 - üìä Transformed settings: {'id': 1, 'gstin': '27AAFCV2449G1Z7', 'taxPercentage': 12.1, 'companyName': 'SIRI ART JEWELLERY', 'companyAddress': '123 Jewelry Street, Mumbai, Maharashtra 400001', 'companyPhone': '+91 889771771', 'companyEmail': 'info@siri.ifleon.com', 'created_at': '2025-11-30T11:49:07.503041', 'updated_at': '2026-01-06T12:52:37.310087'}
2026-01-06 18:25:00,251 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:00,251 - main - DEBUG - main.py:166 - [CORS] Request path: /api/settings
2026-01-06 18:25:00,252 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:00,254 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:25:00,262 - main - INFO - user_routes.py:26 - ‚úÖ Fetched 2 users (super_admin excluded)
2026-01-06 18:25:00,263 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:00,263 - main - DEBUG - main.py:166 - [CORS] Request path: /api/users
2026-01-06 18:25:00,264 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:00,292 - main - INFO - store_routes.py:21 - ‚úÖ Fetched 8 stores
2026-01-06 18:25:00,292 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:00,292 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores
2026-01-06 18:25:00,293 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:00,380 - main - INFO - store_routes.py:47 - ‚úÖ Found 1 user-store associations for user 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:00,381 - main - DEBUG - store_routes.py:48 - User-stores data: [{'userId': '0497138a-918d-4859-9fda-56f413f1f97e', 'storeId': 'store3', 'created_at': '2025-12-05T14:15:59.19755', 'updated_at': '2025-12-05T14:15:59.19755'}]
2026-01-06 18:25:00,382 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:00,382 - main - DEBUG - main.py:166 - [CORS] Request path: /api/user-stores
2026-01-06 18:25:00,385 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:00,420 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:00,420 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:25:00,421 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:00,482 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:00,573 - main - INFO - auth_routes.py:125 - üë§ [BACKEND-ME] Fetching current user info for: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:00,575 - main - DEBUG - auth_routes.py:126 - üé´ [BACKEND-ME] JWT claims: {'fresh': False, 'iat': 1767704097, 'jti': 'b1c018f5-006a-486f-96e7-2d4d20b86f3c', 'type': 'access', 'sub': '0497138a-918d-4859-9fda-56f413f1f97e', 'nbf': 1767704097, 'exp': 1767711297, 'email': 'mailbox2249@gmail.com', 'name': 'V.NECKLECE', 'role': 'billing_user'}
2026-01-06 18:25:00,578 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:00,607 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:00,704 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:00,737 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:00,743 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:25:00,785 - main - INFO - store_routes.py:65 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their assigned store
2026-01-06 18:25:00,792 - main - INFO - auth_routes.py:146 - ‚úÖ [BACKEND-ME] Returning user: V.NECKLECE (mailbox2249@gmail.com)
2026-01-06 18:25:00,792 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:00,792 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:25:00,792 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:00,811 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:25:00,811 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:00,811 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:25:00,817 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:00,906 - main - INFO - product_routes.py:14 - üì¶ User 0497138a-918d-4859-9fda-56f413f1f97e fetching store inventory products
2026-01-06 18:25:00,912 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:25:00,913 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:00,913 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:25:00,913 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:00,950 - main - INFO - store_routes.py:80 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e is assigned to store store3
2026-01-06 18:25:01,039 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:25:01,039 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:01,039 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:25:01,039 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:01,069 - main - INFO - product_routes.py:33 - üìç Fetching inventory for store: store3
2026-01-06 18:25:01,111 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:01,120 - main - INFO - store_routes.py:93 - ‚úÖ Found store: SIRI ART JEWELLERY - Mall (ID: store3)
2026-01-06 18:25:01,120 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:01,121 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores/current
2026-01-06 18:25:01,121 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:01,123 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:01,227 - main - INFO - product_routes.py:47 - üì¶ Found 2 inventory items
2026-01-06 18:25:01,229 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:01,268 - main - INFO - settings_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching settings
2026-01-06 18:25:01,287 - main - INFO - user_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching all users
2026-01-06 18:25:01,352 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:01,376 - main - INFO - store_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching stores
2026-01-06 18:25:01,379 - main - INFO - product_routes.py:113 - ‚úÖ Returning 2 products from store inventory
2026-01-06 18:25:01,379 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:01,379 - main - DEBUG - main.py:166 - [CORS] Request path: /api/products
2026-01-06 18:25:01,379 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:01,421 - main - INFO - settings_routes.py:45 - ‚úÖ Settings fetched with tax: 12.1%
2026-01-06 18:25:01,421 - main - INFO - settings_routes.py:46 - üìä Transformed settings: {'id': 1, 'gstin': '27AAFCV2449G1Z7', 'taxPercentage': 12.1, 'companyName': 'SIRI ART JEWELLERY', 'companyAddress': '123 Jewelry Street, Mumbai, Maharashtra 400001', 'companyPhone': '+91 889771771', 'companyEmail': 'info@siri.ifleon.com', 'created_at': '2025-11-30T11:49:07.503041', 'updated_at': '2026-01-06T12:52:37.310087'}
2026-01-06 18:25:01,421 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:01,421 - main - DEBUG - main.py:166 - [CORS] Request path: /api/settings
2026-01-06 18:25:01,421 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:01,421 - main - INFO - auth_routes.py:125 - üë§ [BACKEND-ME] Fetching current user info for: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:01,421 - main - DEBUG - auth_routes.py:126 - üé´ [BACKEND-ME] JWT claims: {'fresh': False, 'iat': 1767704097, 'jti': 'b1c018f5-006a-486f-96e7-2d4d20b86f3c', 'type': 'access', 'sub': '0497138a-918d-4859-9fda-56f413f1f97e', 'nbf': 1767704097, 'exp': 1767711297, 'email': 'mailbox2249@gmail.com', 'name': 'V.NECKLECE', 'role': 'billing_user'}
2026-01-06 18:25:01,462 - main - INFO - user_routes.py:26 - ‚úÖ Fetched 2 users (super_admin excluded)
2026-01-06 18:25:01,463 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:01,464 - main - DEBUG - main.py:166 - [CORS] Request path: /api/users
2026-01-06 18:25:01,464 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:01,534 - main - INFO - store_routes.py:35 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their user-stores
2026-01-06 18:25:01,544 - main - INFO - store_routes.py:21 - ‚úÖ Fetched 8 stores
2026-01-06 18:25:01,546 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:01,546 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores
2026-01-06 18:25:01,547 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:01,595 - main - INFO - auth_routes.py:146 - ‚úÖ [BACKEND-ME] Returning user: V.NECKLECE (mailbox2249@gmail.com)
2026-01-06 18:25:01,595 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:01,595 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:25:01,595 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:01,696 - main - INFO - store_routes.py:47 - ‚úÖ Found 1 user-store associations for user 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:01,697 - main - DEBUG - store_routes.py:48 - User-stores data: [{'userId': '0497138a-918d-4859-9fda-56f413f1f97e', 'storeId': 'store3', 'created_at': '2025-12-05T14:15:59.19755', 'updated_at': '2025-12-05T14:15:59.19755'}]
2026-01-06 18:25:01,697 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:01,697 - main - DEBUG - main.py:166 - [CORS] Request path: /api/user-stores
2026-01-06 18:25:01,697 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:01,703 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:01,860 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:02,024 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:25:02,024 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:02,024 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:25:02,024 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:02,034 - main - INFO - store_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching stores
2026-01-06 18:25:02,195 - main - INFO - store_routes.py:21 - ‚úÖ Fetched 8 stores
2026-01-06 18:25:02,195 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:02,195 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores
2026-01-06 18:25:02,195 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:02,506 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:02,507 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:02,680 - main - INFO - store_routes.py:35 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their user-stores
2026-01-06 18:25:02,791 - main - INFO - store_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching stores
2026-01-06 18:25:02,858 - main - INFO - store_routes.py:47 - ‚úÖ Found 1 user-store associations for user 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:02,860 - main - DEBUG - store_routes.py:48 - User-stores data: [{'userId': '0497138a-918d-4859-9fda-56f413f1f97e', 'storeId': 'store3', 'created_at': '2025-12-05T14:15:59.19755', 'updated_at': '2025-12-05T14:15:59.19755'}]
2026-01-06 18:25:02,860 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:02,860 - main - DEBUG - main.py:166 - [CORS] Request path: /api/user-stores
2026-01-06 18:25:02,860 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:02,871 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:03,005 - main - INFO - store_routes.py:21 - ‚úÖ Fetched 8 stores
2026-01-06 18:25:03,006 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:03,006 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores
2026-01-06 18:25:03,006 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:03,040 - main - INFO - store_routes.py:65 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their assigned store
2026-01-06 18:25:03,212 - main - INFO - store_routes.py:80 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e is assigned to store store3
2026-01-06 18:25:03,326 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:03,376 - main - INFO - store_routes.py:93 - ‚úÖ Found store: SIRI ART JEWELLERY - Mall (ID: store3)
2026-01-06 18:25:03,377 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:03,377 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores/current
2026-01-06 18:25:03,377 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:03,478 - main - INFO - store_routes.py:35 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their user-stores
2026-01-06 18:25:03,659 - main - INFO - store_routes.py:47 - ‚úÖ Found 1 user-store associations for user 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:03,659 - main - DEBUG - store_routes.py:48 - User-stores data: [{'userId': '0497138a-918d-4859-9fda-56f413f1f97e', 'storeId': 'store3', 'created_at': '2025-12-05T14:15:59.19755', 'updated_at': '2025-12-05T14:15:59.19755'}]
2026-01-06 18:25:03,659 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:03,659 - main - DEBUG - main.py:166 - [CORS] Request path: /api/user-stores
2026-01-06 18:25:03,659 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:03,697 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:03,698 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:03,849 - main - INFO - product_routes.py:14 - üì¶ User 0497138a-918d-4859-9fda-56f413f1f97e fetching store inventory products
2026-01-06 18:25:03,849 - main - INFO - settings_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching settings
2026-01-06 18:25:03,967 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:04,019 - main - INFO - product_routes.py:33 - üìç Fetching inventory for store: store3
2026-01-06 18:25:04,026 - main - INFO - settings_routes.py:45 - ‚úÖ Settings fetched with tax: 12.1%
2026-01-06 18:25:04,026 - main - INFO - settings_routes.py:46 - üìä Transformed settings: {'id': 1, 'gstin': '27AAFCV2449G1Z7', 'taxPercentage': 12.1, 'companyName': 'SIRI ART JEWELLERY', 'companyAddress': '123 Jewelry Street, Mumbai, Maharashtra 400001', 'companyPhone': '+91 889771771', 'companyEmail': 'info@siri.ifleon.com', 'created_at': '2025-11-30T11:49:07.503041', 'updated_at': '2026-01-06T12:52:37.310087'}
2026-01-06 18:25:04,026 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:04,026 - main - DEBUG - main.py:166 - [CORS] Request path: /api/settings
2026-01-06 18:25:04,026 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:04,135 - main - INFO - store_routes.py:65 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their assigned store
2026-01-06 18:25:04,194 - main - INFO - product_routes.py:47 - üì¶ Found 2 inventory items
2026-01-06 18:25:04,294 - main - INFO - store_routes.py:80 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e is assigned to store store3
2026-01-06 18:25:04,376 - main - INFO - product_routes.py:113 - ‚úÖ Returning 2 products from store inventory
2026-01-06 18:25:04,376 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:04,376 - main - DEBUG - main.py:166 - [CORS] Request path: /api/products
2026-01-06 18:25:04,376 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:04,455 - main - INFO - store_routes.py:93 - ‚úÖ Found store: SIRI ART JEWELLERY - Mall (ID: store3)
2026-01-06 18:25:04,456 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:04,456 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores/current
2026-01-06 18:25:04,457 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:04,777 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:04,785 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:04,959 - main - INFO - settings_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching settings
2026-01-06 18:25:04,962 - main - INFO - product_routes.py:14 - üì¶ User 0497138a-918d-4859-9fda-56f413f1f97e fetching store inventory products
2026-01-06 18:25:05,126 - main - INFO - product_routes.py:33 - üìç Fetching inventory for store: store3
2026-01-06 18:25:05,146 - main - INFO - settings_routes.py:45 - ‚úÖ Settings fetched with tax: 12.1%
2026-01-06 18:25:05,146 - main - INFO - settings_routes.py:46 - üìä Transformed settings: {'id': 1, 'gstin': '27AAFCV2449G1Z7', 'taxPercentage': 12.1, 'companyName': 'SIRI ART JEWELLERY', 'companyAddress': '123 Jewelry Street, Mumbai, Maharashtra 400001', 'companyPhone': '+91 889771771', 'companyEmail': 'info@siri.ifleon.com', 'created_at': '2025-11-30T11:49:07.503041', 'updated_at': '2026-01-06T12:52:37.310087'}
2026-01-06 18:25:05,147 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:05,147 - main - DEBUG - main.py:166 - [CORS] Request path: /api/settings
2026-01-06 18:25:05,147 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:05,290 - main - INFO - product_routes.py:47 - üì¶ Found 2 inventory items
2026-01-06 18:25:05,465 - main - INFO - product_routes.py:113 - ‚úÖ Returning 2 products from store inventory
2026-01-06 18:25:05,465 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:05,465 - main - DEBUG - main.py:166 - [CORS] Request path: /api/products
2026-01-06 18:25:05,468 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:28,538 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:28,851 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:25:28,852 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:28,852 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:25:28,852 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:28,854 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:29,024 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:25:29,209 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:25:29,210 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:29,210 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:25:29,212 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:29,654 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:30,014 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:25:30,014 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:30,014 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:25:30,014 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:58,548 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:58,729 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:25:58,852 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:58,852 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:58,921 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:58,922 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:25:58,922 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:59,019 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:25:59,198 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:25:59,198 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:59,198 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:25:59,198 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:59,217 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:25:59,218 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:59,218 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:25:59,219 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:25:59,528 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:25:59,873 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:25:59,874 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:25:59,874 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:25:59,875 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:26:28,873 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:26:28,873 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:26:29,050 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:26:29,219 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:26:29,219 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:26:29,219 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:26:29,219 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:26:29,227 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:26:29,230 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:26:29,230 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:26:29,230 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:26:29,230 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:26:29,552 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:26:29,553 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:26:29,553 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:26:29,553 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:26:58,860 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:26:58,860 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:26:58,860 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:26:59,203 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:26:59,207 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:26:59,352 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:26:59,352 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:26:59,352 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:26:59,377 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:26:59,378 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:26:59,378 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:26:59,379 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:26:59,387 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:26:59,387 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:26:59,387 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:26:59,387 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:26:59,409 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:26:59,751 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:26:59,751 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:26:59,751 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:26:59,751 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:27:28,860 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:27:28,868 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:27:29,022 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:27:29,187 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:27:29,187 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:27:29,187 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:27:29,187 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:27:29,201 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:27:29,256 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:27:29,259 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:27:29,259 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:27:29,259 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:27:29,527 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:27:29,527 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:27:29,527 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:27:29,527 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:27:38,968 - main - INFO - background_tasks.py:142 - Background JSON to Supabase push sync starting. Next push in 5 minutes.
2026-01-06 18:27:39,025 - main - INFO - background_tasks.py:142 - Background JSON to Supabase push sync starting. Next push in 5 minutes.
2026-01-06 18:27:39,348 - main - INFO - background_tasks.py:76 - Background pull sync starting. Next sync in 5 minutes.
2026-01-06 18:27:39,348 - main - DEBUG - background_tasks.py:81 - Delta pull for Products with last_sync: 2026-01-06T18:22:37.335734
2026-01-06 18:27:39,380 - main - INFO - background_tasks.py:76 - Background pull sync starting. Next sync in 5 minutes.
2026-01-06 18:27:39,380 - main - DEBUG - background_tasks.py:81 - Delta pull for Products with last_sync: 2026-01-06T18:22:36.407649
2026-01-06 18:27:39,503 - main - INFO - background_tasks.py:86 - Delta pull sync for Products completed successfully.
2026-01-06 18:27:39,503 - main - INFO - background_tasks.py:124 - No new records for Products during delta pull.
2026-01-06 18:27:39,519 - main - DEBUG - background_tasks.py:81 - Delta pull for Customers with last_sync: 2026-01-06T18:22:37.820518
2026-01-06 18:27:39,615 - main - INFO - background_tasks.py:86 - Delta pull sync for Products completed successfully.
2026-01-06 18:27:39,616 - main - INFO - background_tasks.py:124 - No new records for Products during delta pull.
2026-01-06 18:27:39,616 - main - DEBUG - background_tasks.py:81 - Delta pull for Customers with last_sync: 2026-01-06T18:22:37.808139
2026-01-06 18:27:39,690 - main - INFO - background_tasks.py:86 - Delta pull sync for Customers completed successfully.
2026-01-06 18:27:39,690 - main - INFO - background_tasks.py:124 - No new records for Customers during delta pull.
2026-01-06 18:27:39,690 - main - DEBUG - background_tasks.py:81 - Delta pull for Users with last_sync: 2026-01-06T18:22:38.081996
2026-01-06 18:27:39,773 - main - INFO - background_tasks.py:86 - Delta pull sync for Customers completed successfully.
2026-01-06 18:27:39,774 - main - INFO - background_tasks.py:124 - No new records for Customers during delta pull.
2026-01-06 18:27:39,775 - main - DEBUG - background_tasks.py:81 - Delta pull for Users with last_sync: 2026-01-06T18:22:38.049055
2026-01-06 18:27:39,869 - main - INFO - background_tasks.py:86 - Delta pull sync for Users completed successfully.
2026-01-06 18:27:39,871 - main - INFO - background_tasks.py:124 - No new records for Users during delta pull.
2026-01-06 18:27:39,872 - main - DEBUG - background_tasks.py:81 - Delta pull for Stores with last_sync: 2026-01-06T18:22:38.244604
2026-01-06 18:27:39,929 - main - INFO - background_tasks.py:86 - Delta pull sync for Users completed successfully.
2026-01-06 18:27:39,929 - main - INFO - background_tasks.py:124 - No new records for Users during delta pull.
2026-01-06 18:27:39,929 - main - DEBUG - background_tasks.py:81 - Delta pull for Stores with last_sync: 2026-01-06T18:22:38.228872
2026-01-06 18:27:40,072 - main - INFO - background_tasks.py:86 - Delta pull sync for Stores completed successfully.
2026-01-06 18:27:40,072 - main - INFO - background_tasks.py:124 - No new records for Stores during delta pull.
2026-01-06 18:27:40,072 - main - DEBUG - background_tasks.py:81 - Delta pull for SystemSettings with last_sync: 2026-01-06T18:22:38.426844
2026-01-06 18:27:40,116 - main - INFO - background_tasks.py:86 - Delta pull sync for Stores completed successfully.
2026-01-06 18:27:40,116 - main - INFO - background_tasks.py:124 - No new records for Stores during delta pull.
2026-01-06 18:27:40,116 - main - DEBUG - background_tasks.py:81 - Delta pull for SystemSettings with last_sync: 2026-01-06T18:22:38.405299
2026-01-06 18:27:40,229 - main - INFO - background_tasks.py:86 - Delta pull sync for SystemSettings completed successfully.
2026-01-06 18:27:40,229 - main - INFO - background_tasks.py:124 - No new records for SystemSettings during delta pull.
2026-01-06 18:27:40,230 - main - DEBUG - background_tasks.py:81 - Delta pull for Returns with last_sync: 2026-01-06T18:22:38.633568
2026-01-06 18:27:40,617 - main - INFO - background_tasks.py:86 - Delta pull sync for SystemSettings completed successfully.
2026-01-06 18:27:40,617 - main - INFO - background_tasks.py:124 - No new records for SystemSettings during delta pull.
2026-01-06 18:27:40,617 - main - DEBUG - background_tasks.py:81 - Delta pull for Returns with last_sync: 2026-01-06T18:22:38.653862
2026-01-06 18:27:40,621 - main - INFO - background_tasks.py:86 - Delta pull sync for Returns completed successfully.
2026-01-06 18:27:40,621 - main - INFO - background_tasks.py:124 - No new records for Returns during delta pull.
2026-01-06 18:27:40,621 - main - DEBUG - background_tasks.py:81 - Delta pull for Bills with last_sync: 2026-01-06T18:22:38.810297
2026-01-06 18:27:40,630 - main - INFO - background_tasks.py:167 - Background JSON to Supabase push sync completed successfully. Stats: {'Products': {'pushed': 8}, 'Customers': {'pushed': 1}, 'Users': {'pushed': 2}, 'Stores': {'pushed': 8}, 'SystemSettings': {'pushed': 1}, 'Bills': {'pushed': 6}, 'BillFormats': {'pushed': 5}}
2026-01-06 18:27:40,630 - main - INFO - background_tasks.py:167 - Background JSON to Supabase push sync completed successfully. Stats: {'Products': {'pushed': 8}, 'Customers': {'pushed': 1}, 'Users': {'pushed': 2}, 'Stores': {'pushed': 8}, 'SystemSettings': {'pushed': 1}, 'Bills': {'pushed': 6}, 'BillFormats': {'pushed': 5}}
2026-01-06 18:27:40,764 - main - INFO - background_tasks.py:86 - Delta pull sync for Returns completed successfully.
2026-01-06 18:27:40,774 - main - INFO - background_tasks.py:124 - No new records for Returns during delta pull.
2026-01-06 18:27:40,774 - main - DEBUG - background_tasks.py:81 - Delta pull for Bills with last_sync: 2026-01-06T18:22:38.830541
2026-01-06 18:27:40,790 - main - INFO - background_tasks.py:86 - Delta pull sync for Bills completed successfully.
2026-01-06 18:27:40,790 - main - INFO - background_tasks.py:124 - No new records for Bills during delta pull.
2026-01-06 18:27:40,800 - main - DEBUG - background_tasks.py:81 - Delta pull for BillFormats with last_sync: 2026-01-06T18:22:38.990698
2026-01-06 18:27:40,936 - main - INFO - background_tasks.py:86 - Delta pull sync for Bills completed successfully.
2026-01-06 18:27:40,936 - main - INFO - background_tasks.py:124 - No new records for Bills during delta pull.
2026-01-06 18:27:40,936 - main - DEBUG - background_tasks.py:81 - Delta pull for BillFormats with last_sync: 2026-01-06T18:22:39.011256
2026-01-06 18:27:40,977 - main - INFO - background_tasks.py:86 - Delta pull sync for BillFormats completed successfully.
2026-01-06 18:27:40,977 - main - INFO - background_tasks.py:90 - Found 5 new/updated records for BillFormats.
2026-01-06 18:27:40,977 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json for BillFormats.
2026-01-06 18:27:40,977 - main - DEBUG - background_tasks.py:81 - Delta pull for UserStores with last_sync: 2026-01-06T18:22:39.161965
2026-01-06 18:27:41,099 - main - INFO - background_tasks.py:86 - Delta pull sync for BillFormats completed successfully.
2026-01-06 18:27:41,099 - main - INFO - background_tasks.py:90 - Found 5 new/updated records for BillFormats.
2026-01-06 18:27:41,103 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json for BillFormats.
2026-01-06 18:27:41,103 - main - DEBUG - background_tasks.py:81 - Delta pull for UserStores with last_sync: 2026-01-06T18:22:39.187012
2026-01-06 18:27:41,152 - main - INFO - background_tasks.py:86 - Delta pull sync for UserStores completed successfully.
2026-01-06 18:27:41,154 - main - INFO - background_tasks.py:124 - No new records for UserStores during delta pull.
2026-01-06 18:27:41,271 - main - INFO - background_tasks.py:86 - Delta pull sync for UserStores completed successfully.
2026-01-06 18:27:41,273 - main - INFO - background_tasks.py:124 - No new records for UserStores during delta pull.
2026-01-06 18:27:58,860 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:27:58,860 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:27:58,860 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:27:59,041 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:27:59,066 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:27:59,188 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:27:59,192 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:27:59,192 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:27:59,192 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:27:59,199 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:27:59,203 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:27:59,205 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:27:59,207 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:27:59,229 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:27:59,231 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:27:59,231 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:27:59,244 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:27:59,574 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:27:59,574 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:27:59,574 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:27:59,574 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:28:28,853 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:28:28,853 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:28:29,029 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:28:29,224 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:28:29,226 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:28:29,227 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:28:29,227 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:28:29,229 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:28:29,229 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:28:29,229 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:28:29,233 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:28:29,241 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:28:29,603 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:28:29,603 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:28:29,603 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:28:29,603 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:28:58,875 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:28:58,875 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:28:58,875 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:28:59,071 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:28:59,071 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:28:59,244 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:28:59,254 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:28:59,254 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:28:59,254 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:28:59,254 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:28:59,254 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:28:59,254 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:28:59,274 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:28:59,370 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:28:59,370 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:28:59,370 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:28:59,370 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:28:59,678 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:28:59,678 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:28:59,678 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:28:59,678 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:29:28,854 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:29:28,856 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:29:29,008 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:29:29,175 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:29:29,177 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:29:29,177 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:29:29,178 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:29:29,190 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:29:29,192 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:29:29,192 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:29:29,192 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:29:29,192 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:29:29,493 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:29:29,493 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:29:29,493 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:29:29,493 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:29:58,868 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:29:58,871 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:29:58,882 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:29:59,041 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:29:59,056 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:29:59,213 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:29:59,213 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:29:59,213 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:29:59,213 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:29:59,232 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:29:59,232 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:29:59,232 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:29:59,232 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:29:59,232 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:29:59,245 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:29:59,246 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:29:59,246 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:29:59,578 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:29:59,578 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:29:59,578 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:29:59,578 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:30:28,282 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:30:28,282 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:30:28,470 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:30:28,624 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:30:28,626 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:30:28,626 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:30:28,626 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:30:28,631 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:30:28,637 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:30:28,638 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:30:28,638 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:30:28,638 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:30:28,963 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:30:28,964 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:30:28,964 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:30:28,964 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:33:59,532 - main - INFO - logger.py:128 - ================================================================================
2026-01-06 18:33:59,532 - main - INFO - logger.py:129 - ‚úÖ Logging configured for Windows
2026-01-06 18:33:59,532 - main - INFO - logger.py:130 - üìÅ Log file: D:\Siri-apps\Siri-billing-app\backend\data\logs\billing_app-2026-01-06.log
2026-01-06 18:33:59,532 - main - INFO - logger.py:131 - üóìÔ∏è Retention: 30 days
2026-01-06 18:33:59,532 - main - INFO - logger.py:134 - üîÑ Rotation: Manual (Windows mode - prevents file locking)
2026-01-06 18:33:59,532 - main - INFO - logger.py:138 - ================================================================================
2026-01-06 18:33:59,532 - main - INFO - main.py:93 -  Billing Flask server starting up...
2026-01-06 18:33:59,532 - main - INFO - main.py:94 - JWT Configuration:
2026-01-06 18:33:59,536 - main - INFO - main.py:95 - JWT_TOKEN_LOCATION: ['headers', 'cookies']
2026-01-06 18:33:59,536 - main - INFO - main.py:96 - JWT_COOKIE_NAME: access_token_cookie
2026-01-06 18:33:59,536 - main - INFO - main.py:97 - JWT_COOKIE_SECURE: False
2026-01-06 18:33:59,536 - main - INFO - main.py:98 - JWT_COOKIE_SAMESITE: Lax
2026-01-06 18:33:59,536 - main - INFO - main.py:99 - JWT_ACCESS_TOKEN_EXPIRES: 2:00:00
2026-01-06 18:33:59,536 - main - INFO - main.py:100 - JWT_ACCESS_COOKIE_PATH: /
2026-01-06 18:33:59,536 - main - INFO - main.py:101 - JWT_COOKIE_DOMAIN: None
2026-01-06 18:33:59,562 - main - INFO - main.py:226 - Billing Flask server starting...
2026-01-06 18:33:59,563 - main - INFO - main.py:229 - Billing app will run on localhost:8080
2026-01-06 18:33:59,563 - main - INFO - main.py:230 - CORS: Accepting all requests from local machine
2026-01-06 18:33:59,564 - main - INFO - background_tasks.py:35 - Starting initial full sync for missing JSON files.
2026-01-06 18:33:59,564 - main - INFO - background_tasks.py:185 - Background pull sync scheduler (Supabase -> JSON) started.
2026-01-06 18:33:59,565 - main - INFO - background_tasks.py:65 - JSON file for Products already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\products.json. Skipping initial full pull.
2026-01-06 18:33:59,565 - main - INFO - background_tasks.py:65 - JSON file for Customers already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\customers.json. Skipping initial full pull.
2026-01-06 18:33:59,565 - main - INFO - background_tasks.py:140 - Starting background JSON to Supabase push sync scheduler.
2026-01-06 18:33:59,566 - main - INFO - background_tasks.py:65 - JSON file for Users already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\users.json. Skipping initial full pull.
2026-01-06 18:33:59,566 - main - INFO - background_tasks.py:192 - Background JSON to Supabase push sync scheduler (JSON -> Supabase) started.
2026-01-06 18:33:59,566 - main - INFO - background_tasks.py:142 - Background JSON to Supabase push sync starting. Next push in 5 minutes.
2026-01-06 18:33:59,566 - main - INFO - background_tasks.py:65 - JSON file for Stores already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\stores.json. Skipping initial full pull.
2026-01-06 18:33:59,567 - main - INFO - background_tasks.py:65 - JSON file for SystemSettings already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\system_settings.json. Skipping initial full pull.
2026-01-06 18:33:59,571 - main - INFO - background_tasks.py:65 - JSON file for Returns already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\returns.json. Skipping initial full pull.
2026-01-06 18:33:59,575 - main - INFO - background_tasks.py:65 - JSON file for Bills already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\bills.json. Skipping initial full pull.
2026-01-06 18:33:59,577 - main - INFO - background_tasks.py:65 - JSON file for BillFormats already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json. Skipping initial full pull.
2026-01-06 18:33:59,577 - main - INFO - background_tasks.py:65 - JSON file for UserStores already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\userstores.json. Skipping initial full pull.
2026-01-06 18:33:59,577 - main - INFO - background_tasks.py:66 - Initial full sync completed.
2026-01-06 18:33:59,577 - main - INFO - background_tasks.py:76 - Background pull sync starting. Next sync in 5 minutes.
2026-01-06 18:33:59,577 - main - DEBUG - background_tasks.py:81 - Delta pull for Products with last_sync: None
2026-01-06 18:34:00,345 - main - INFO - background_tasks.py:86 - Delta pull sync for Products completed successfully.
2026-01-06 18:34:00,345 - main - INFO - background_tasks.py:90 - Found 8 new/updated records for Products.
2026-01-06 18:34:00,345 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\products.json for Products.
2026-01-06 18:34:00,345 - main - DEBUG - background_tasks.py:81 - Delta pull for Customers with last_sync: None
2026-01-06 18:34:00,539 - main - INFO - background_tasks.py:86 - Delta pull sync for Customers completed successfully.
2026-01-06 18:34:00,539 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for Customers.
2026-01-06 18:34:00,539 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\customers.json for Customers.
2026-01-06 18:34:00,542 - main - DEBUG - background_tasks.py:81 - Delta pull for Users with last_sync: None
2026-01-06 18:34:00,713 - main - INFO - background_tasks.py:86 - Delta pull sync for Users completed successfully.
2026-01-06 18:34:00,713 - main - INFO - background_tasks.py:90 - Found 3 new/updated records for Users.
2026-01-06 18:34:00,713 - main - INFO - background_tasks.py:98 - Filtered out admin/super_admin users. 2 users remaining.
2026-01-06 18:34:00,713 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\users.json for Users.
2026-01-06 18:34:00,715 - main - DEBUG - background_tasks.py:81 - Delta pull for Stores with last_sync: None
2026-01-06 18:34:00,885 - main - INFO - background_tasks.py:86 - Delta pull sync for Stores completed successfully.
2026-01-06 18:34:00,885 - main - INFO - background_tasks.py:90 - Found 8 new/updated records for Stores.
2026-01-06 18:34:00,889 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\stores.json for Stores.
2026-01-06 18:34:00,890 - main - DEBUG - background_tasks.py:81 - Delta pull for SystemSettings with last_sync: None
2026-01-06 18:34:01,040 - main - INFO - background_tasks.py:86 - Delta pull sync for SystemSettings completed successfully.
2026-01-06 18:34:01,040 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for SystemSettings.
2026-01-06 18:34:01,042 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\system_settings.json for SystemSettings.
2026-01-06 18:34:01,042 - main - DEBUG - background_tasks.py:81 - Delta pull for Returns with last_sync: None
2026-01-06 18:34:01,114 - main - INFO - logger.py:128 - ================================================================================
2026-01-06 18:34:01,114 - main - INFO - logger.py:129 - ‚úÖ Logging configured for Windows
2026-01-06 18:34:01,117 - main - INFO - logger.py:130 - üìÅ Log file: D:\Siri-apps\Siri-billing-app\backend\data\logs\billing_app-2026-01-06.log
2026-01-06 18:34:01,117 - main - INFO - logger.py:131 - üóìÔ∏è Retention: 30 days
2026-01-06 18:34:01,118 - main - INFO - logger.py:134 - üîÑ Rotation: Manual (Windows mode - prevents file locking)
2026-01-06 18:34:01,119 - main - INFO - logger.py:138 - ================================================================================
2026-01-06 18:34:01,120 - main - INFO - main.py:93 -  Billing Flask server starting up...
2026-01-06 18:34:01,120 - main - INFO - main.py:94 - JWT Configuration:
2026-01-06 18:34:01,120 - main - INFO - main.py:95 - JWT_TOKEN_LOCATION: ['headers', 'cookies']
2026-01-06 18:34:01,120 - main - INFO - main.py:96 - JWT_COOKIE_NAME: access_token_cookie
2026-01-06 18:34:01,120 - main - INFO - main.py:97 - JWT_COOKIE_SECURE: False
2026-01-06 18:34:01,120 - main - INFO - main.py:98 - JWT_COOKIE_SAMESITE: Lax
2026-01-06 18:34:01,120 - main - INFO - main.py:99 - JWT_ACCESS_TOKEN_EXPIRES: 2:00:00
2026-01-06 18:34:01,120 - main - INFO - main.py:100 - JWT_ACCESS_COOKIE_PATH: /
2026-01-06 18:34:01,120 - main - INFO - main.py:101 - JWT_COOKIE_DOMAIN: None
2026-01-06 18:34:01,146 - main - INFO - main.py:226 - Billing Flask server starting...
2026-01-06 18:34:01,147 - main - INFO - main.py:229 - Billing app will run on localhost:8080
2026-01-06 18:34:01,147 - main - INFO - main.py:230 - CORS: Accepting all requests from local machine
2026-01-06 18:34:01,149 - main - INFO - background_tasks.py:35 - Starting initial full sync for missing JSON files.
2026-01-06 18:34:01,149 - main - INFO - background_tasks.py:185 - Background pull sync scheduler (Supabase -> JSON) started.
2026-01-06 18:34:01,149 - main - INFO - background_tasks.py:65 - JSON file for Products already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\products.json. Skipping initial full pull.
2026-01-06 18:34:01,150 - main - INFO - background_tasks.py:140 - Starting background JSON to Supabase push sync scheduler.
2026-01-06 18:34:01,150 - main - INFO - background_tasks.py:192 - Background JSON to Supabase push sync scheduler (JSON -> Supabase) started.
2026-01-06 18:34:01,151 - main - INFO - background_tasks.py:65 - JSON file for Customers already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\customers.json. Skipping initial full pull.
2026-01-06 18:34:01,155 - main - INFO - background_tasks.py:142 - Background JSON to Supabase push sync starting. Next push in 5 minutes.
2026-01-06 18:34:01,159 - main - INFO - background_tasks.py:65 - JSON file for Users already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\users.json. Skipping initial full pull.
2026-01-06 18:34:01,160 - main - INFO - background_tasks.py:65 - JSON file for Stores already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\stores.json. Skipping initial full pull.
2026-01-06 18:34:01,160 - main - INFO - background_tasks.py:65 - JSON file for SystemSettings already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\system_settings.json. Skipping initial full pull.
2026-01-06 18:34:01,163 - main - INFO - background_tasks.py:65 - JSON file for Returns already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\returns.json. Skipping initial full pull.
2026-01-06 18:34:01,164 - main - INFO - background_tasks.py:65 - JSON file for Bills already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\bills.json. Skipping initial full pull.
2026-01-06 18:34:01,164 - main - INFO - background_tasks.py:65 - JSON file for BillFormats already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json. Skipping initial full pull.
2026-01-06 18:34:01,165 - main - INFO - background_tasks.py:65 - JSON file for UserStores already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\userstores.json. Skipping initial full pull.
2026-01-06 18:34:01,165 - main - INFO - background_tasks.py:66 - Initial full sync completed.
2026-01-06 18:34:01,166 - main - INFO - background_tasks.py:76 - Background pull sync starting. Next sync in 5 minutes.
2026-01-06 18:34:01,168 - main - DEBUG - background_tasks.py:81 - Delta pull for Products with last_sync: None
2026-01-06 18:34:01,204 - main - INFO - background_tasks.py:86 - Delta pull sync for Returns completed successfully.
2026-01-06 18:34:01,204 - main - INFO - background_tasks.py:90 - Found 2 new/updated records for Returns.
2026-01-06 18:34:01,206 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\returns.json for Returns.
2026-01-06 18:34:01,207 - main - DEBUG - background_tasks.py:81 - Delta pull for Bills with last_sync: None
2026-01-06 18:34:01,281 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:01,284 - main - INFO - auth_routes.py:125 - üë§ [BACKEND-ME] Fetching current user info for: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:01,286 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:01,286 - main - DEBUG - auth_routes.py:126 - üé´ [BACKEND-ME] JWT claims: {'fresh': False, 'iat': 1767704097, 'jti': 'b1c018f5-006a-486f-96e7-2d4d20b86f3c', 'type': 'access', 'sub': '0497138a-918d-4859-9fda-56f413f1f97e', 'nbf': 1767704097, 'exp': 1767711297, 'email': 'mailbox2249@gmail.com', 'name': 'V.NECKLECE', 'role': 'billing_user'}
2026-01-06 18:34:01,291 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:01,293 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:01,328 - main - INFO - background_tasks.py:167 - Background JSON to Supabase push sync completed successfully. Stats: {'Products': {'pushed': 8}, 'Customers': {'pushed': 1}, 'Users': {'pushed': 2}, 'Stores': {'pushed': 8}, 'SystemSettings': {'pushed': 1}, 'Bills': {'pushed': 6}, 'BillFormats': {'pushed': 5}}
2026-01-06 18:34:01,365 - main - INFO - background_tasks.py:86 - Delta pull sync for Bills completed successfully.
2026-01-06 18:34:01,365 - main - INFO - background_tasks.py:90 - Found 6 new/updated records for Bills.
2026-01-06 18:34:01,365 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bills.json for Bills.
2026-01-06 18:34:01,367 - main - DEBUG - background_tasks.py:81 - Delta pull for BillFormats with last_sync: None
2026-01-06 18:34:01,407 - main - INFO - background_tasks.py:86 - Delta pull sync for Products completed successfully.
2026-01-06 18:34:01,407 - main - INFO - background_tasks.py:90 - Found 8 new/updated records for Products.
2026-01-06 18:34:01,409 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\products.json for Products.
2026-01-06 18:34:01,409 - main - DEBUG - background_tasks.py:81 - Delta pull for Customers with last_sync: None
2026-01-06 18:34:01,504 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:34:01,520 - main - INFO - background_tasks.py:86 - Delta pull sync for BillFormats completed successfully.
2026-01-06 18:34:01,521 - main - INFO - background_tasks.py:90 - Found 5 new/updated records for BillFormats.
2026-01-06 18:34:01,522 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json for BillFormats.
2026-01-06 18:34:01,522 - main - DEBUG - background_tasks.py:81 - Delta pull for UserStores with last_sync: None
2026-01-06 18:34:01,544 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:34:01,559 - main - INFO - background_tasks.py:86 - Delta pull sync for Customers completed successfully.
2026-01-06 18:34:01,559 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for Customers.
2026-01-06 18:34:01,562 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\customers.json for Customers.
2026-01-06 18:34:01,563 - main - DEBUG - background_tasks.py:81 - Delta pull for Users with last_sync: None
2026-01-06 18:34:01,666 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:34:01,666 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:01,666 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:34:01,666 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:01,668 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:34:01,668 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:01,668 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:34:01,668 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:01,672 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:01,678 - main - INFO - background_tasks.py:86 - Delta pull sync for UserStores completed successfully.
2026-01-06 18:34:01,678 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for UserStores.
2026-01-06 18:34:01,679 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\userstores.json for UserStores.
2026-01-06 18:34:01,703 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:01,703 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:34:01,703 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:01,720 - main - INFO - background_tasks.py:86 - Delta pull sync for Users completed successfully.
2026-01-06 18:34:01,720 - main - INFO - background_tasks.py:90 - Found 3 new/updated records for Users.
2026-01-06 18:34:01,720 - main - INFO - background_tasks.py:98 - Filtered out admin/super_admin users. 2 users remaining.
2026-01-06 18:34:01,722 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\users.json for Users.
2026-01-06 18:34:01,722 - main - DEBUG - background_tasks.py:81 - Delta pull for Stores with last_sync: None
2026-01-06 18:34:01,737 - main - INFO - store_routes.py:65 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their assigned store
2026-01-06 18:34:01,762 - main - INFO - auth_routes.py:146 - ‚úÖ [BACKEND-ME] Returning user: V.NECKLECE (mailbox2249@gmail.com)
2026-01-06 18:34:01,762 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:01,762 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:34:01,762 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:01,836 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:34:01,872 - main - INFO - background_tasks.py:86 - Delta pull sync for Stores completed successfully.
2026-01-06 18:34:01,883 - main - INFO - background_tasks.py:90 - Found 8 new/updated records for Stores.
2026-01-06 18:34:01,883 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\stores.json for Stores.
2026-01-06 18:34:01,885 - main - DEBUG - background_tasks.py:81 - Delta pull for SystemSettings with last_sync: None
2026-01-06 18:34:01,905 - main - INFO - store_routes.py:80 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e is assigned to store store3
2026-01-06 18:34:01,988 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:01,990 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:01,990 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:34:01,990 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:01,990 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:34:01,990 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:02,023 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:02,055 - main - INFO - store_routes.py:93 - ‚úÖ Found store: SIRI ART JEWELLERY - Mall (ID: store3)
2026-01-06 18:34:02,055 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:02,055 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores/current
2026-01-06 18:34:02,055 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:02,075 - main - INFO - auth_routes.py:125 - üë§ [BACKEND-ME] Fetching current user info for: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:02,075 - main - DEBUG - auth_routes.py:126 - üé´ [BACKEND-ME] JWT claims: {'fresh': False, 'iat': 1767704097, 'jti': 'b1c018f5-006a-486f-96e7-2d4d20b86f3c', 'type': 'access', 'sub': '0497138a-918d-4859-9fda-56f413f1f97e', 'nbf': 1767704097, 'exp': 1767711297, 'email': 'mailbox2249@gmail.com', 'name': 'V.NECKLECE', 'role': 'billing_user'}
2026-01-06 18:34:02,102 - main - INFO - background_tasks.py:86 - Delta pull sync for SystemSettings completed successfully.
2026-01-06 18:34:02,103 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for SystemSettings.
2026-01-06 18:34:02,105 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\system_settings.json for SystemSettings.
2026-01-06 18:34:02,105 - main - DEBUG - background_tasks.py:81 - Delta pull for Returns with last_sync: None
2026-01-06 18:34:02,224 - main - INFO - auth_routes.py:146 - ‚úÖ [BACKEND-ME] Returning user: V.NECKLECE (mailbox2249@gmail.com)
2026-01-06 18:34:02,224 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:02,224 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:34:02,224 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:02,224 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:34:02,259 - main - INFO - background_tasks.py:86 - Delta pull sync for Returns completed successfully.
2026-01-06 18:34:02,261 - main - INFO - background_tasks.py:90 - Found 2 new/updated records for Returns.
2026-01-06 18:34:02,261 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\returns.json for Returns.
2026-01-06 18:34:02,262 - main - DEBUG - background_tasks.py:81 - Delta pull for Bills with last_sync: None
2026-01-06 18:34:02,306 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:02,334 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:34:02,334 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:02,334 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:34:02,334 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:02,346 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:34:02,346 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:02,346 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:34:02,346 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:02,373 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:02,399 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:02,399 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:34:02,399 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:02,414 - main - INFO - background_tasks.py:86 - Delta pull sync for Bills completed successfully.
2026-01-06 18:34:02,414 - main - INFO - background_tasks.py:90 - Found 6 new/updated records for Bills.
2026-01-06 18:34:02,421 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bills.json for Bills.
2026-01-06 18:34:02,421 - main - DEBUG - background_tasks.py:81 - Delta pull for BillFormats with last_sync: None
2026-01-06 18:34:02,466 - main - INFO - product_routes.py:14 - üì¶ User 0497138a-918d-4859-9fda-56f413f1f97e fetching store inventory products
2026-01-06 18:34:02,533 - main - INFO - settings_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching settings
2026-01-06 18:34:02,539 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:02,583 - main - INFO - background_tasks.py:86 - Delta pull sync for BillFormats completed successfully.
2026-01-06 18:34:02,583 - main - INFO - background_tasks.py:90 - Found 5 new/updated records for BillFormats.
2026-01-06 18:34:02,597 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json for BillFormats.
2026-01-06 18:34:02,598 - main - DEBUG - background_tasks.py:81 - Delta pull for UserStores with last_sync: None
2026-01-06 18:34:02,642 - main - INFO - product_routes.py:33 - üìç Fetching inventory for store: store3
2026-01-06 18:34:02,659 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:02,661 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:02,687 - main - INFO - background_tasks.py:167 - Background JSON to Supabase push sync completed successfully. Stats: {'Products': {'pushed': 8}, 'Customers': {'pushed': 1}, 'Users': {'pushed': 2}, 'Stores': {'pushed': 8}, 'SystemSettings': {'pushed': 1}, 'Bills': {'pushed': 6}, 'BillFormats': {'pushed': 5}}
2026-01-06 18:34:02,696 - main - INFO - user_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching all users
2026-01-06 18:34:02,709 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:02,730 - main - INFO - settings_routes.py:45 - ‚úÖ Settings fetched with tax: 12.1%
2026-01-06 18:34:02,730 - main - INFO - settings_routes.py:46 - üìä Transformed settings: {'id': 1, 'gstin': '27AAFCV2449G1Z7', 'taxPercentage': 12.1, 'companyName': 'SIRI ART JEWELLERY', 'companyAddress': '123 Jewelry Street, Mumbai, Maharashtra 400001', 'companyPhone': '+91 889771771', 'companyEmail': 'info@siri.ifleon.com', 'created_at': '2025-11-30T11:49:07.503041', 'updated_at': '2026-01-06T13:04:02.248049'}
2026-01-06 18:34:02,730 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:02,730 - main - DEBUG - main.py:166 - [CORS] Request path: /api/settings
2026-01-06 18:34:02,730 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:02,754 - main - INFO - background_tasks.py:86 - Delta pull sync for UserStores completed successfully.
2026-01-06 18:34:02,755 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for UserStores.
2026-01-06 18:34:02,756 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\userstores.json for UserStores.
2026-01-06 18:34:02,797 - main - INFO - product_routes.py:47 - üì¶ Found 2 inventory items
2026-01-06 18:34:02,814 - main - INFO - store_routes.py:35 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their user-stores
2026-01-06 18:34:02,823 - main - INFO - store_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching stores
2026-01-06 18:34:02,869 - main - INFO - store_routes.py:65 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their assigned store
2026-01-06 18:34:02,871 - main - INFO - user_routes.py:26 - ‚úÖ Fetched 2 users (super_admin excluded)
2026-01-06 18:34:02,871 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:02,871 - main - DEBUG - main.py:166 - [CORS] Request path: /api/users
2026-01-06 18:34:02,871 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:02,953 - main - INFO - product_routes.py:113 - ‚úÖ Returning 2 products from store inventory
2026-01-06 18:34:02,954 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:02,954 - main - DEBUG - main.py:166 - [CORS] Request path: /api/products
2026-01-06 18:34:02,954 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:02,970 - main - INFO - store_routes.py:47 - ‚úÖ Found 1 user-store associations for user 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:02,970 - main - DEBUG - store_routes.py:48 - User-stores data: [{'userId': '0497138a-918d-4859-9fda-56f413f1f97e', 'storeId': 'store3', 'created_at': '2025-12-05T14:15:59.19755', 'updated_at': '2025-12-05T14:15:59.19755'}]
2026-01-06 18:34:02,971 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:02,971 - main - DEBUG - main.py:166 - [CORS] Request path: /api/user-stores
2026-01-06 18:34:02,971 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:02,975 - main - INFO - store_routes.py:21 - ‚úÖ Fetched 8 stores
2026-01-06 18:34:02,975 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:02,975 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores
2026-01-06 18:34:02,977 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:03,023 - main - INFO - store_routes.py:80 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e is assigned to store store3
2026-01-06 18:34:03,041 - main - INFO - auth_routes.py:125 - üë§ [BACKEND-ME] Fetching current user info for: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:03,041 - main - DEBUG - auth_routes.py:126 - üé´ [BACKEND-ME] JWT claims: {'fresh': False, 'iat': 1767704097, 'jti': 'b1c018f5-006a-486f-96e7-2d4d20b86f3c', 'type': 'access', 'sub': '0497138a-918d-4859-9fda-56f413f1f97e', 'nbf': 1767704097, 'exp': 1767711297, 'email': 'mailbox2249@gmail.com', 'name': 'V.NECKLECE', 'role': 'billing_user'}
2026-01-06 18:34:03,182 - main - INFO - store_routes.py:93 - ‚úÖ Found store: SIRI ART JEWELLERY - Mall (ID: store3)
2026-01-06 18:34:03,182 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:03,182 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores/current
2026-01-06 18:34:03,182 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:03,185 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:03,196 - main - INFO - auth_routes.py:146 - ‚úÖ [BACKEND-ME] Returning user: V.NECKLECE (mailbox2249@gmail.com)
2026-01-06 18:34:03,196 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:03,196 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:34:03,196 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:03,273 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:03,279 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:03,290 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:03,437 - main - INFO - settings_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching settings
2026-01-06 18:34:03,441 - main - INFO - user_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching all users
2026-01-06 18:34:03,450 - main - INFO - product_routes.py:14 - üì¶ User 0497138a-918d-4859-9fda-56f413f1f97e fetching store inventory products
2026-01-06 18:34:03,504 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:34:03,504 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:03,506 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:34:03,506 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:03,506 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:03,511 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:03,590 - main - INFO - settings_routes.py:45 - ‚úÖ Settings fetched with tax: 12.1%
2026-01-06 18:34:03,590 - main - INFO - settings_routes.py:46 - üìä Transformed settings: {'id': 1, 'gstin': '27AAFCV2449G1Z7', 'taxPercentage': 12.1, 'companyName': 'SIRI ART JEWELLERY', 'companyAddress': '123 Jewelry Street, Mumbai, Maharashtra 400001', 'companyPhone': '+91 889771771', 'companyEmail': 'info@siri.ifleon.com', 'created_at': '2025-11-30T11:49:07.503041', 'updated_at': '2026-01-06T13:04:02.248049'}
2026-01-06 18:34:03,592 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:03,592 - main - DEBUG - main.py:166 - [CORS] Request path: /api/settings
2026-01-06 18:34:03,592 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:03,603 - main - INFO - user_routes.py:26 - ‚úÖ Fetched 2 users (super_admin excluded)
2026-01-06 18:34:03,603 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:03,603 - main - DEBUG - main.py:166 - [CORS] Request path: /api/users
2026-01-06 18:34:03,604 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:03,604 - main - INFO - product_routes.py:33 - üìç Fetching inventory for store: store3
2026-01-06 18:34:03,667 - main - INFO - store_routes.py:35 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their user-stores
2026-01-06 18:34:03,673 - main - INFO - store_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching stores
2026-01-06 18:34:03,767 - main - INFO - product_routes.py:47 - üì¶ Found 2 inventory items
2026-01-06 18:34:03,821 - main - INFO - auth_routes.py:125 - üë§ [BACKEND-ME] Fetching current user info for: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:03,823 - main - DEBUG - auth_routes.py:126 - üé´ [BACKEND-ME] JWT claims: {'fresh': False, 'iat': 1767704097, 'jti': 'b1c018f5-006a-486f-96e7-2d4d20b86f3c', 'type': 'access', 'sub': '0497138a-918d-4859-9fda-56f413f1f97e', 'nbf': 1767704097, 'exp': 1767711297, 'email': 'mailbox2249@gmail.com', 'name': 'V.NECKLECE', 'role': 'billing_user'}
2026-01-06 18:34:03,832 - main - INFO - store_routes.py:21 - ‚úÖ Fetched 8 stores
2026-01-06 18:34:03,832 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:03,832 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores
2026-01-06 18:34:03,832 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:03,844 - main - INFO - store_routes.py:47 - ‚úÖ Found 1 user-store associations for user 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:03,845 - main - DEBUG - store_routes.py:48 - User-stores data: [{'userId': '0497138a-918d-4859-9fda-56f413f1f97e', 'storeId': 'store3', 'created_at': '2025-12-05T14:15:59.19755', 'updated_at': '2025-12-05T14:15:59.19755'}]
2026-01-06 18:34:03,846 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:03,846 - main - DEBUG - main.py:166 - [CORS] Request path: /api/user-stores
2026-01-06 18:34:03,846 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:03,939 - main - INFO - product_routes.py:113 - ‚úÖ Returning 2 products from store inventory
2026-01-06 18:34:03,939 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:03,939 - main - DEBUG - main.py:166 - [CORS] Request path: /api/products
2026-01-06 18:34:03,939 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:03,970 - main - INFO - auth_routes.py:146 - ‚úÖ [BACKEND-ME] Returning user: V.NECKLECE (mailbox2249@gmail.com)
2026-01-06 18:34:03,972 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:03,972 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:34:03,972 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:04,148 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:04,313 - main - INFO - store_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching stores
2026-01-06 18:34:04,465 - main - INFO - store_routes.py:21 - ‚úÖ Fetched 8 stores
2026-01-06 18:34:04,466 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:04,466 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores
2026-01-06 18:34:04,466 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:04,787 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:04,789 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:04,946 - main - INFO - store_routes.py:35 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their user-stores
2026-01-06 18:34:04,948 - main - INFO - store_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching stores
2026-01-06 18:34:05,105 - main - INFO - store_routes.py:47 - ‚úÖ Found 1 user-store associations for user 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:05,106 - main - INFO - store_routes.py:21 - ‚úÖ Fetched 8 stores
2026-01-06 18:34:05,106 - main - DEBUG - store_routes.py:48 - User-stores data: [{'userId': '0497138a-918d-4859-9fda-56f413f1f97e', 'storeId': 'store3', 'created_at': '2025-12-05T14:15:59.19755', 'updated_at': '2025-12-05T14:15:59.19755'}]
2026-01-06 18:34:05,106 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:05,106 - main - DEBUG - main.py:166 - [CORS] Request path: /api/user-stores
2026-01-06 18:34:05,106 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:05,107 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:05,107 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores
2026-01-06 18:34:05,107 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:05,112 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:05,265 - main - INFO - store_routes.py:65 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their assigned store
2026-01-06 18:34:05,413 - main - INFO - store_routes.py:80 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e is assigned to store store3
2026-01-06 18:34:05,449 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:05,556 - main - INFO - store_routes.py:93 - ‚úÖ Found store: SIRI ART JEWELLERY - Mall (ID: store3)
2026-01-06 18:34:05,556 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:05,556 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores/current
2026-01-06 18:34:05,556 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:05,605 - main - INFO - store_routes.py:35 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their user-stores
2026-01-06 18:34:05,770 - main - INFO - store_routes.py:47 - ‚úÖ Found 1 user-store associations for user 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:05,770 - main - DEBUG - store_routes.py:48 - User-stores data: [{'userId': '0497138a-918d-4859-9fda-56f413f1f97e', 'storeId': 'store3', 'created_at': '2025-12-05T14:15:59.19755', 'updated_at': '2025-12-05T14:15:59.19755'}]
2026-01-06 18:34:05,770 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:05,770 - main - DEBUG - main.py:166 - [CORS] Request path: /api/user-stores
2026-01-06 18:34:05,770 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:05,883 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:05,886 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:06,038 - main - INFO - product_routes.py:14 - üì¶ User 0497138a-918d-4859-9fda-56f413f1f97e fetching store inventory products
2026-01-06 18:34:06,048 - main - INFO - settings_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching settings
2026-01-06 18:34:06,087 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:06,196 - main - INFO - product_routes.py:33 - üìç Fetching inventory for store: store3
2026-01-06 18:34:06,202 - main - INFO - settings_routes.py:45 - ‚úÖ Settings fetched with tax: 12.1%
2026-01-06 18:34:06,204 - main - INFO - settings_routes.py:46 - üìä Transformed settings: {'id': 1, 'gstin': '27AAFCV2449G1Z7', 'taxPercentage': 12.1, 'companyName': 'SIRI ART JEWELLERY', 'companyAddress': '123 Jewelry Street, Mumbai, Maharashtra 400001', 'companyPhone': '+91 889771771', 'companyEmail': 'info@siri.ifleon.com', 'created_at': '2025-11-30T11:49:07.503041', 'updated_at': '2026-01-06T13:04:02.248049'}
2026-01-06 18:34:06,205 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:06,205 - main - DEBUG - main.py:166 - [CORS] Request path: /api/settings
2026-01-06 18:34:06,205 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:06,245 - main - INFO - store_routes.py:65 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their assigned store
2026-01-06 18:34:06,351 - main - INFO - product_routes.py:47 - üì¶ Found 2 inventory items
2026-01-06 18:34:06,438 - main - INFO - store_routes.py:80 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e is assigned to store store3
2026-01-06 18:34:06,509 - main - INFO - product_routes.py:113 - ‚úÖ Returning 2 products from store inventory
2026-01-06 18:34:06,509 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:06,509 - main - DEBUG - main.py:166 - [CORS] Request path: /api/products
2026-01-06 18:34:06,509 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:06,600 - main - INFO - store_routes.py:93 - ‚úÖ Found store: SIRI ART JEWELLERY - Mall (ID: store3)
2026-01-06 18:34:06,602 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:06,602 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores/current
2026-01-06 18:34:06,602 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:06,925 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:06,929 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:07,089 - main - INFO - settings_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching settings
2026-01-06 18:34:07,097 - main - INFO - product_routes.py:14 - üì¶ User 0497138a-918d-4859-9fda-56f413f1f97e fetching store inventory products
2026-01-06 18:34:07,238 - main - INFO - settings_routes.py:45 - ‚úÖ Settings fetched with tax: 12.1%
2026-01-06 18:34:07,238 - main - INFO - settings_routes.py:46 - üìä Transformed settings: {'id': 1, 'gstin': '27AAFCV2449G1Z7', 'taxPercentage': 12.1, 'companyName': 'SIRI ART JEWELLERY', 'companyAddress': '123 Jewelry Street, Mumbai, Maharashtra 400001', 'companyPhone': '+91 889771771', 'companyEmail': 'info@siri.ifleon.com', 'created_at': '2025-11-30T11:49:07.503041', 'updated_at': '2026-01-06T13:04:02.248049'}
2026-01-06 18:34:07,238 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:07,238 - main - DEBUG - main.py:166 - [CORS] Request path: /api/settings
2026-01-06 18:34:07,238 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:07,256 - main - INFO - product_routes.py:33 - üìç Fetching inventory for store: store3
2026-01-06 18:34:07,404 - main - INFO - product_routes.py:47 - üì¶ Found 2 inventory items
2026-01-06 18:34:07,572 - main - INFO - product_routes.py:113 - ‚úÖ Returning 2 products from store inventory
2026-01-06 18:34:07,572 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:07,572 - main - DEBUG - main.py:166 - [CORS] Request path: /api/products
2026-01-06 18:34:07,572 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:23,968 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:24,288 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:24,292 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:34:24,292 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:24,292 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:34:24,292 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:24,452 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:34:24,608 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:34:24,608 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:24,608 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:34:24,608 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:24,916 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:25,216 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:34:25,216 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:25,216 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:34:25,216 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:39,108 - main - INFO - auth_routes.py:125 - üë§ [BACKEND-ME] Fetching current user info for: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:39,111 - main - DEBUG - auth_routes.py:126 - üé´ [BACKEND-ME] JWT claims: {'fresh': False, 'iat': 1767704097, 'jti': 'b1c018f5-006a-486f-96e7-2d4d20b86f3c', 'type': 'access', 'sub': '0497138a-918d-4859-9fda-56f413f1f97e', 'nbf': 1767704097, 'exp': 1767711297, 'email': 'mailbox2249@gmail.com', 'name': 'V.NECKLECE', 'role': 'billing_user'}
2026-01-06 18:34:39,262 - main - INFO - auth_routes.py:146 - ‚úÖ [BACKEND-ME] Returning user: V.NECKLECE (mailbox2249@gmail.com)
2026-01-06 18:34:39,264 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:39,264 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:34:39,264 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:39,586 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:39,586 - main - INFO - auth_routes.py:125 - üë§ [BACKEND-ME] Fetching current user info for: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:39,588 - main - DEBUG - auth_routes.py:126 - üé´ [BACKEND-ME] JWT claims: {'fresh': False, 'iat': 1767704097, 'jti': 'b1c018f5-006a-486f-96e7-2d4d20b86f3c', 'type': 'access', 'sub': '0497138a-918d-4859-9fda-56f413f1f97e', 'nbf': 1767704097, 'exp': 1767711297, 'email': 'mailbox2249@gmail.com', 'name': 'V.NECKLECE', 'role': 'billing_user'}
2026-01-06 18:34:39,604 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:39,606 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:39,609 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:39,738 - main - INFO - store_routes.py:65 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their assigned store
2026-01-06 18:34:39,768 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:34:39,775 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:34:39,775 - main - INFO - auth_routes.py:146 - ‚úÖ [BACKEND-ME] Returning user: V.NECKLECE (mailbox2249@gmail.com)
2026-01-06 18:34:39,778 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:39,778 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:34:39,778 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:39,867 - main - INFO - auth_routes.py:125 - üë§ [BACKEND-ME] Fetching current user info for: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:39,868 - main - DEBUG - auth_routes.py:126 - üé´ [BACKEND-ME] JWT claims: {'fresh': False, 'iat': 1767704097, 'jti': 'b1c018f5-006a-486f-96e7-2d4d20b86f3c', 'type': 'access', 'sub': '0497138a-918d-4859-9fda-56f413f1f97e', 'nbf': 1767704097, 'exp': 1767711297, 'email': 'mailbox2249@gmail.com', 'name': 'V.NECKLECE', 'role': 'billing_user'}
2026-01-06 18:34:39,887 - main - INFO - store_routes.py:80 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e is assigned to store store3
2026-01-06 18:34:39,909 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:34:39,909 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:39,909 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:34:39,909 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:39,931 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:34:39,932 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:39,932 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:39,932 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:34:39,933 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:34:39,933 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:39,933 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:40,034 - main - INFO - auth_routes.py:146 - ‚úÖ [BACKEND-ME] Returning user: V.NECKLECE (mailbox2249@gmail.com)
2026-01-06 18:34:40,034 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:40,034 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:34:40,035 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:40,050 - main - INFO - store_routes.py:93 - ‚úÖ Found store: SIRI ART JEWELLERY - Mall (ID: store3)
2026-01-06 18:34:40,051 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:40,051 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores/current
2026-01-06 18:34:40,051 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:40,097 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:40,220 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:40,239 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:40,243 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:40,258 - main - INFO - product_routes.py:14 - üì¶ User 0497138a-918d-4859-9fda-56f413f1f97e fetching store inventory products
2026-01-06 18:34:40,354 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:40,372 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:40,385 - main - INFO - settings_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching settings
2026-01-06 18:34:40,390 - main - INFO - store_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching stores
2026-01-06 18:34:40,397 - main - INFO - user_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching all users
2026-01-06 18:34:40,417 - main - INFO - product_routes.py:33 - üìç Fetching inventory for store: store3
2026-01-06 18:34:40,519 - main - INFO - store_routes.py:35 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their user-stores
2026-01-06 18:34:40,541 - main - INFO - settings_routes.py:45 - ‚úÖ Settings fetched with tax: 12.1%
2026-01-06 18:34:40,541 - main - INFO - settings_routes.py:46 - üìä Transformed settings: {'id': 1, 'gstin': '27AAFCV2449G1Z7', 'taxPercentage': 12.1, 'companyName': 'SIRI ART JEWELLERY', 'companyAddress': '123 Jewelry Street, Mumbai, Maharashtra 400001', 'companyPhone': '+91 889771771', 'companyEmail': 'info@siri.ifleon.com', 'created_at': '2025-11-30T11:49:07.503041', 'updated_at': '2026-01-06T13:04:02.248049'}
2026-01-06 18:34:40,542 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:40,542 - main - DEBUG - main.py:166 - [CORS] Request path: /api/settings
2026-01-06 18:34:40,542 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:40,546 - main - INFO - store_routes.py:21 - ‚úÖ Fetched 8 stores
2026-01-06 18:34:40,547 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:40,547 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores
2026-01-06 18:34:40,547 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:40,552 - main - INFO - user_routes.py:26 - ‚úÖ Fetched 2 users (super_admin excluded)
2026-01-06 18:34:40,554 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:40,554 - main - DEBUG - main.py:166 - [CORS] Request path: /api/users
2026-01-06 18:34:40,554 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:40,574 - main - INFO - product_routes.py:47 - üì¶ Found 2 inventory items
2026-01-06 18:34:40,679 - main - INFO - store_routes.py:47 - ‚úÖ Found 1 user-store associations for user 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:40,679 - main - DEBUG - store_routes.py:48 - User-stores data: [{'userId': '0497138a-918d-4859-9fda-56f413f1f97e', 'storeId': 'store3', 'created_at': '2025-12-05T14:15:59.19755', 'updated_at': '2025-12-05T14:15:59.19755'}]
2026-01-06 18:34:40,680 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:40,680 - main - DEBUG - main.py:166 - [CORS] Request path: /api/user-stores
2026-01-06 18:34:40,680 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:40,698 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:34:40,698 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:40,698 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:34:40,698 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:40,762 - main - INFO - product_routes.py:113 - ‚úÖ Returning 2 products from store inventory
2026-01-06 18:34:40,762 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:40,762 - main - DEBUG - main.py:166 - [CORS] Request path: /api/products
2026-01-06 18:34:40,762 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:40,856 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:40,858 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:40,868 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:40,989 - main - INFO - auth_routes.py:125 - üë§ [BACKEND-ME] Fetching current user info for: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:40,989 - main - DEBUG - auth_routes.py:126 - üé´ [BACKEND-ME] JWT claims: {'fresh': False, 'iat': 1767704097, 'jti': 'b1c018f5-006a-486f-96e7-2d4d20b86f3c', 'type': 'access', 'sub': '0497138a-918d-4859-9fda-56f413f1f97e', 'nbf': 1767704097, 'exp': 1767711297, 'email': 'mailbox2249@gmail.com', 'name': 'V.NECKLECE', 'role': 'billing_user'}
2026-01-06 18:34:41,011 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:34:41,019 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:41,068 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:41,088 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:34:41,142 - main - INFO - auth_routes.py:146 - ‚úÖ [BACKEND-ME] Returning user: V.NECKLECE (mailbox2249@gmail.com)
2026-01-06 18:34:41,142 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:41,142 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:34:41,142 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:41,159 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:41,159 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:34:41,159 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:41,164 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:34:41,164 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:41,165 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:34:41,165 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:41,185 - main - INFO - store_routes.py:65 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their assigned store
2026-01-06 18:34:41,247 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:34:41,248 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:41,248 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:34:41,248 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:41,317 - main - INFO - settings_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching settings
2026-01-06 18:34:41,339 - main - INFO - store_routes.py:80 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e is assigned to store store3
2026-01-06 18:34:41,457 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:41,474 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:41,476 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:41,484 - main - INFO - settings_routes.py:45 - ‚úÖ Settings fetched with tax: 12.1%
2026-01-06 18:34:41,484 - main - INFO - settings_routes.py:46 - üìä Transformed settings: {'id': 1, 'gstin': '27AAFCV2449G1Z7', 'taxPercentage': 12.1, 'companyName': 'SIRI ART JEWELLERY', 'companyAddress': '123 Jewelry Street, Mumbai, Maharashtra 400001', 'companyPhone': '+91 889771771', 'companyEmail': 'info@siri.ifleon.com', 'created_at': '2025-11-30T11:49:07.503041', 'updated_at': '2026-01-06T13:04:02.248049'}
2026-01-06 18:34:41,485 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:41,485 - main - DEBUG - main.py:166 - [CORS] Request path: /api/settings
2026-01-06 18:34:41,485 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:41,495 - main - INFO - store_routes.py:93 - ‚úÖ Found store: SIRI ART JEWELLERY - Mall (ID: store3)
2026-01-06 18:34:41,495 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:41,495 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores/current
2026-01-06 18:34:41,495 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:41,552 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:41,606 - main - INFO - store_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching stores
2026-01-06 18:34:41,622 - main - INFO - user_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching all users
2026-01-06 18:34:41,632 - main - INFO - store_routes.py:35 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their user-stores
2026-01-06 18:34:41,703 - main - INFO - product_routes.py:14 - üì¶ User 0497138a-918d-4859-9fda-56f413f1f97e fetching store inventory products
2026-01-06 18:34:41,766 - main - INFO - store_routes.py:21 - ‚úÖ Fetched 8 stores
2026-01-06 18:34:41,768 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:41,768 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores
2026-01-06 18:34:41,768 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:41,771 - main - INFO - user_routes.py:26 - ‚úÖ Fetched 2 users (super_admin excluded)
2026-01-06 18:34:41,771 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:41,771 - main - DEBUG - main.py:166 - [CORS] Request path: /api/users
2026-01-06 18:34:41,771 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:41,787 - main - INFO - store_routes.py:47 - ‚úÖ Found 1 user-store associations for user 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:41,789 - main - DEBUG - store_routes.py:48 - User-stores data: [{'userId': '0497138a-918d-4859-9fda-56f413f1f97e', 'storeId': 'store3', 'created_at': '2025-12-05T14:15:59.19755', 'updated_at': '2025-12-05T14:15:59.19755'}]
2026-01-06 18:34:41,789 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:41,790 - main - DEBUG - main.py:166 - [CORS] Request path: /api/user-stores
2026-01-06 18:34:41,790 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:41,793 - main - INFO - auth_routes.py:125 - üë§ [BACKEND-ME] Fetching current user info for: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:41,793 - main - DEBUG - auth_routes.py:126 - üé´ [BACKEND-ME] JWT claims: {'fresh': False, 'iat': 1767704097, 'jti': 'b1c018f5-006a-486f-96e7-2d4d20b86f3c', 'type': 'access', 'sub': '0497138a-918d-4859-9fda-56f413f1f97e', 'nbf': 1767704097, 'exp': 1767711297, 'email': 'mailbox2249@gmail.com', 'name': 'V.NECKLECE', 'role': 'billing_user'}
2026-01-06 18:34:41,807 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:41,885 - main - INFO - product_routes.py:33 - üìç Fetching inventory for store: store3
2026-01-06 18:34:41,945 - main - INFO - auth_routes.py:146 - ‚úÖ [BACKEND-ME] Returning user: V.NECKLECE (mailbox2249@gmail.com)
2026-01-06 18:34:41,945 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:41,945 - main - DEBUG - main.py:166 - [CORS] Request path: /api/auth/me
2026-01-06 18:34:41,945 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:42,037 - main - INFO - product_routes.py:47 - üì¶ Found 2 inventory items
2026-01-06 18:34:42,086 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:42,109 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:34:42,109 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:42,110 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:34:42,110 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:42,203 - main - INFO - product_routes.py:113 - ‚úÖ Returning 2 products from store inventory
2026-01-06 18:34:42,204 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:42,204 - main - DEBUG - main.py:166 - [CORS] Request path: /api/products
2026-01-06 18:34:42,204 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:42,239 - main - INFO - store_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching stores
2026-01-06 18:34:42,399 - main - INFO - store_routes.py:21 - ‚úÖ Fetched 8 stores
2026-01-06 18:34:42,400 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:42,400 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores
2026-01-06 18:34:42,400 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:42,715 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:42,715 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:42,865 - main - INFO - store_routes.py:35 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their user-stores
2026-01-06 18:34:42,871 - main - INFO - store_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching stores
2026-01-06 18:34:43,022 - main - INFO - store_routes.py:47 - ‚úÖ Found 1 user-store associations for user 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:43,022 - main - DEBUG - store_routes.py:48 - User-stores data: [{'userId': '0497138a-918d-4859-9fda-56f413f1f97e', 'storeId': 'store3', 'created_at': '2025-12-05T14:15:59.19755', 'updated_at': '2025-12-05T14:15:59.19755'}]
2026-01-06 18:34:43,022 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:43,022 - main - DEBUG - main.py:166 - [CORS] Request path: /api/user-stores
2026-01-06 18:34:43,022 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:43,030 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:43,035 - main - INFO - store_routes.py:21 - ‚úÖ Fetched 8 stores
2026-01-06 18:34:43,035 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:43,035 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores
2026-01-06 18:34:43,035 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:43,196 - main - INFO - store_routes.py:65 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their assigned store
2026-01-06 18:34:43,357 - main - INFO - store_routes.py:80 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e is assigned to store store3
2026-01-06 18:34:43,365 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:43,504 - main - INFO - store_routes.py:93 - ‚úÖ Found store: SIRI ART JEWELLERY - Mall (ID: store3)
2026-01-06 18:34:43,504 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:43,504 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores/current
2026-01-06 18:34:43,504 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:43,527 - main - INFO - store_routes.py:35 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their user-stores
2026-01-06 18:34:43,674 - main - INFO - store_routes.py:47 - ‚úÖ Found 1 user-store associations for user 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:43,674 - main - DEBUG - store_routes.py:48 - User-stores data: [{'userId': '0497138a-918d-4859-9fda-56f413f1f97e', 'storeId': 'store3', 'created_at': '2025-12-05T14:15:59.19755', 'updated_at': '2025-12-05T14:15:59.19755'}]
2026-01-06 18:34:43,674 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:43,674 - main - DEBUG - main.py:166 - [CORS] Request path: /api/user-stores
2026-01-06 18:34:43,674 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:43,817 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:43,817 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:43,973 - main - INFO - settings_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching settings
2026-01-06 18:34:43,973 - main - INFO - product_routes.py:14 - üì¶ User 0497138a-918d-4859-9fda-56f413f1f97e fetching store inventory products
2026-01-06 18:34:43,991 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:44,128 - main - INFO - settings_routes.py:45 - ‚úÖ Settings fetched with tax: 12.1%
2026-01-06 18:34:44,128 - main - INFO - settings_routes.py:46 - üìä Transformed settings: {'id': 1, 'gstin': '27AAFCV2449G1Z7', 'taxPercentage': 12.1, 'companyName': 'SIRI ART JEWELLERY', 'companyAddress': '123 Jewelry Street, Mumbai, Maharashtra 400001', 'companyPhone': '+91 889771771', 'companyEmail': 'info@siri.ifleon.com', 'created_at': '2025-11-30T11:49:07.503041', 'updated_at': '2026-01-06T13:04:02.248049'}
2026-01-06 18:34:44,128 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:44,128 - main - DEBUG - main.py:166 - [CORS] Request path: /api/settings
2026-01-06 18:34:44,128 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:44,128 - main - INFO - product_routes.py:33 - üìç Fetching inventory for store: store3
2026-01-06 18:34:44,144 - main - INFO - store_routes.py:65 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e fetching their assigned store
2026-01-06 18:34:44,295 - main - INFO - product_routes.py:47 - üì¶ Found 2 inventory items
2026-01-06 18:34:44,315 - main - INFO - store_routes.py:80 - üìç User 0497138a-918d-4859-9fda-56f413f1f97e is assigned to store store3
2026-01-06 18:34:44,441 - main - INFO - product_routes.py:113 - ‚úÖ Returning 2 products from store inventory
2026-01-06 18:34:44,441 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:44,441 - main - DEBUG - main.py:166 - [CORS] Request path: /api/products
2026-01-06 18:34:44,441 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:44,466 - main - INFO - store_routes.py:93 - ‚úÖ Found store: SIRI ART JEWELLERY - Mall (ID: store3)
2026-01-06 18:34:44,466 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:44,466 - main - DEBUG - main.py:166 - [CORS] Request path: /api/stores/current
2026-01-06 18:34:44,466 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:44,787 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:44,789 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:34:44,940 - main - INFO - settings_routes.py:14 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching settings
2026-01-06 18:34:44,946 - main - INFO - product_routes.py:14 - üì¶ User 0497138a-918d-4859-9fda-56f413f1f97e fetching store inventory products
2026-01-06 18:34:45,094 - main - INFO - settings_routes.py:45 - ‚úÖ Settings fetched with tax: 12.1%
2026-01-06 18:34:45,094 - main - INFO - settings_routes.py:46 - üìä Transformed settings: {'id': 1, 'gstin': '27AAFCV2449G1Z7', 'taxPercentage': 12.1, 'companyName': 'SIRI ART JEWELLERY', 'companyAddress': '123 Jewelry Street, Mumbai, Maharashtra 400001', 'companyPhone': '+91 889771771', 'companyEmail': 'info@siri.ifleon.com', 'created_at': '2025-11-30T11:49:07.503041', 'updated_at': '2026-01-06T13:04:02.248049'}
2026-01-06 18:34:45,094 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:45,094 - main - DEBUG - main.py:166 - [CORS] Request path: /api/settings
2026-01-06 18:34:45,094 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:34:45,101 - main - INFO - product_routes.py:33 - üìç Fetching inventory for store: store3
2026-01-06 18:34:45,258 - main - INFO - product_routes.py:47 - üì¶ Found 2 inventory items
2026-01-06 18:34:45,418 - main - INFO - product_routes.py:113 - ‚úÖ Returning 2 products from store inventory
2026-01-06 18:34:45,418 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:34:45,418 - main - DEBUG - main.py:166 - [CORS] Request path: /api/products
2026-01-06 18:34:45,419 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:35:09,287 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:35:09,598 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:35:09,607 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:35:09,607 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:35:09,607 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:35:09,607 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:35:09,758 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:35:09,922 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:35:09,922 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:35:09,922 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:35:09,922 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:35:10,238 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:35:10,560 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:35:10,560 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:35:10,560 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:35:10,560 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:35:39,293 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:35:39,457 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:35:39,606 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:35:39,611 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:35:39,612 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:35:39,612 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:35:39,613 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:35:39,762 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:35:39,916 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:35:39,916 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:35:39,916 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:35:39,916 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:35:39,944 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:35:39,944 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:35:39,944 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:35:39,944 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:35:40,240 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:35:40,555 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:35:40,556 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:35:40,556 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:35:40,556 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:36:10,280 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:36:10,282 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:36:10,636 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:36:10,807 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:36:10,808 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:36:10,808 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:36:10,808 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:36:10,814 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:36:10,886 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:36:10,886 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:36:10,886 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:36:10,886 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:36:11,212 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:36:11,213 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:36:11,213 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:36:11,213 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:36:40,263 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:36:40,264 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:36:40,267 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:36:40,459 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:36:40,542 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:36:40,597 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:36:40,597 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:36:40,598 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:36:40,598 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:36:40,609 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:36:40,609 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:36:40,610 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:36:40,703 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:36:40,704 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:36:40,704 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:36:40,704 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:36:40,712 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:36:41,041 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:36:41,041 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:36:41,041 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:36:41,041 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:37:10,276 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:37:10,277 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:37:10,444 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:37:10,594 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:37:10,594 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:37:10,594 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:37:10,594 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:37:10,607 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:37:10,608 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:37:10,608 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:37:10,608 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:37:10,614 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:37:10,915 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:37:10,915 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:37:10,916 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:37:10,916 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:37:40,270 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:37:40,271 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:37:40,277 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:37:40,429 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:37:40,458 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:37:40,597 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:37:40,597 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:37:40,597 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:37:40,598 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:37:40,603 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:37:40,603 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:37:40,603 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:37:40,627 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:37:40,627 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:37:40,627 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:37:40,627 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:37:40,634 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:37:40,942 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:37:40,942 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:37:40,942 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:37:40,942 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:38:40,269 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:38:40,677 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:38:40,867 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:38:40,868 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:38:40,868 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:39:01,342 - main - INFO - background_tasks.py:142 - Background JSON to Supabase push sync starting. Next push in 5 minutes.
2026-01-06 18:39:01,691 - main - INFO - background_tasks.py:76 - Background pull sync starting. Next sync in 5 minutes.
2026-01-06 18:39:01,692 - main - DEBUG - background_tasks.py:81 - Delta pull for Products with last_sync: 2026-01-06T18:33:59.577200
2026-01-06 18:39:01,905 - main - INFO - background_tasks.py:86 - Delta pull sync for Products completed successfully.
2026-01-06 18:39:01,906 - main - INFO - background_tasks.py:124 - No new records for Products during delta pull.
2026-01-06 18:39:01,906 - main - DEBUG - background_tasks.py:81 - Delta pull for Customers with last_sync: 2026-01-06T18:34:00.345009
2026-01-06 18:39:02,057 - main - INFO - background_tasks.py:86 - Delta pull sync for Customers completed successfully.
2026-01-06 18:39:02,058 - main - INFO - background_tasks.py:124 - No new records for Customers during delta pull.
2026-01-06 18:39:02,060 - main - DEBUG - background_tasks.py:81 - Delta pull for Users with last_sync: 2026-01-06T18:34:00.542979
2026-01-06 18:39:02,220 - main - INFO - background_tasks.py:86 - Delta pull sync for Users completed successfully.
2026-01-06 18:39:02,221 - main - INFO - background_tasks.py:124 - No new records for Users during delta pull.
2026-01-06 18:39:02,221 - main - DEBUG - background_tasks.py:81 - Delta pull for Stores with last_sync: 2026-01-06T18:34:00.715742
2026-01-06 18:39:02,379 - main - INFO - background_tasks.py:86 - Delta pull sync for Stores completed successfully.
2026-01-06 18:39:02,379 - main - INFO - background_tasks.py:124 - No new records for Stores during delta pull.
2026-01-06 18:39:02,379 - main - DEBUG - background_tasks.py:81 - Delta pull for SystemSettings with last_sync: 2026-01-06T18:34:00.890441
2026-01-06 18:39:02,533 - main - INFO - background_tasks.py:86 - Delta pull sync for SystemSettings completed successfully.
2026-01-06 18:39:02,533 - main - INFO - background_tasks.py:124 - No new records for SystemSettings during delta pull.
2026-01-06 18:39:02,533 - main - DEBUG - background_tasks.py:81 - Delta pull for Returns with last_sync: 2026-01-06T18:34:01.042699
2026-01-06 18:39:02,636 - main - INFO - background_tasks.py:167 - Background JSON to Supabase push sync completed successfully. Stats: {'Products': {'pushed': 8}, 'Customers': {'pushed': 1}, 'Users': {'pushed': 2}, 'Stores': {'pushed': 8}, 'SystemSettings': {'pushed': 1}, 'Bills': {'pushed': 6}, 'BillFormats': {'pushed': 5}}
2026-01-06 18:39:02,692 - main - INFO - background_tasks.py:142 - Background JSON to Supabase push sync starting. Next push in 5 minutes.
2026-01-06 18:39:02,694 - main - INFO - background_tasks.py:86 - Delta pull sync for Returns completed successfully.
2026-01-06 18:39:02,694 - main - INFO - background_tasks.py:124 - No new records for Returns during delta pull.
2026-01-06 18:39:02,694 - main - DEBUG - background_tasks.py:81 - Delta pull for Bills with last_sync: 2026-01-06T18:34:01.207934
2026-01-06 18:39:02,756 - main - INFO - background_tasks.py:76 - Background pull sync starting. Next sync in 5 minutes.
2026-01-06 18:39:02,756 - main - DEBUG - background_tasks.py:81 - Delta pull for Products with last_sync: 2026-01-06T18:34:01.168114
2026-01-06 18:39:02,858 - main - INFO - background_tasks.py:86 - Delta pull sync for Bills completed successfully.
2026-01-06 18:39:02,860 - main - INFO - background_tasks.py:124 - No new records for Bills during delta pull.
2026-01-06 18:39:02,860 - main - DEBUG - background_tasks.py:81 - Delta pull for BillFormats with last_sync: 2026-01-06T18:34:01.367507
2026-01-06 18:39:02,997 - main - INFO - background_tasks.py:86 - Delta pull sync for Products completed successfully.
2026-01-06 18:39:02,998 - main - INFO - background_tasks.py:124 - No new records for Products during delta pull.
2026-01-06 18:39:02,998 - main - DEBUG - background_tasks.py:81 - Delta pull for Customers with last_sync: 2026-01-06T18:34:01.409726
2026-01-06 18:39:03,018 - main - INFO - background_tasks.py:86 - Delta pull sync for BillFormats completed successfully.
2026-01-06 18:39:03,019 - main - INFO - background_tasks.py:90 - Found 5 new/updated records for BillFormats.
2026-01-06 18:39:03,020 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json for BillFormats.
2026-01-06 18:39:03,022 - main - DEBUG - background_tasks.py:81 - Delta pull for UserStores with last_sync: 2026-01-06T18:34:01.522100
2026-01-06 18:39:03,153 - main - INFO - background_tasks.py:86 - Delta pull sync for Customers completed successfully.
2026-01-06 18:39:03,153 - main - INFO - background_tasks.py:124 - No new records for Customers during delta pull.
2026-01-06 18:39:03,153 - main - DEBUG - background_tasks.py:81 - Delta pull for Users with last_sync: 2026-01-06T18:34:01.563337
2026-01-06 18:39:03,168 - main - INFO - background_tasks.py:86 - Delta pull sync for UserStores completed successfully.
2026-01-06 18:39:03,169 - main - INFO - background_tasks.py:124 - No new records for UserStores during delta pull.
2026-01-06 18:39:03,303 - main - INFO - background_tasks.py:86 - Delta pull sync for Users completed successfully.
2026-01-06 18:39:03,303 - main - INFO - background_tasks.py:124 - No new records for Users during delta pull.
2026-01-06 18:39:03,303 - main - DEBUG - background_tasks.py:81 - Delta pull for Stores with last_sync: 2026-01-06T18:34:01.722122
2026-01-06 18:39:03,462 - main - INFO - background_tasks.py:86 - Delta pull sync for Stores completed successfully.
2026-01-06 18:39:03,462 - main - INFO - background_tasks.py:124 - No new records for Stores during delta pull.
2026-01-06 18:39:03,463 - main - DEBUG - background_tasks.py:81 - Delta pull for SystemSettings with last_sync: 2026-01-06T18:34:01.885331
2026-01-06 18:39:03,627 - main - INFO - background_tasks.py:86 - Delta pull sync for SystemSettings completed successfully.
2026-01-06 18:39:03,627 - main - INFO - background_tasks.py:124 - No new records for SystemSettings during delta pull.
2026-01-06 18:39:03,627 - main - DEBUG - background_tasks.py:81 - Delta pull for Returns with last_sync: 2026-01-06T18:34:02.106159
2026-01-06 18:39:03,784 - main - INFO - background_tasks.py:86 - Delta pull sync for Returns completed successfully.
2026-01-06 18:39:03,784 - main - INFO - background_tasks.py:124 - No new records for Returns during delta pull.
2026-01-06 18:39:03,784 - main - DEBUG - background_tasks.py:81 - Delta pull for Bills with last_sync: 2026-01-06T18:34:02.262930
2026-01-06 18:39:03,812 - main - INFO - background_tasks.py:167 - Background JSON to Supabase push sync completed successfully. Stats: {'Products': {'pushed': 8}, 'Customers': {'pushed': 1}, 'Users': {'pushed': 2}, 'Stores': {'pushed': 8}, 'SystemSettings': {'pushed': 1}, 'Bills': {'pushed': 6}, 'BillFormats': {'pushed': 5}}
2026-01-06 18:39:03,945 - main - INFO - background_tasks.py:86 - Delta pull sync for Bills completed successfully.
2026-01-06 18:39:03,945 - main - INFO - background_tasks.py:124 - No new records for Bills during delta pull.
2026-01-06 18:39:03,946 - main - DEBUG - background_tasks.py:81 - Delta pull for BillFormats with last_sync: 2026-01-06T18:34:02.421104
2026-01-06 18:39:04,097 - main - INFO - background_tasks.py:86 - Delta pull sync for BillFormats completed successfully.
2026-01-06 18:39:04,098 - main - INFO - background_tasks.py:90 - Found 5 new/updated records for BillFormats.
2026-01-06 18:39:04,101 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json for BillFormats.
2026-01-06 18:39:04,101 - main - DEBUG - background_tasks.py:81 - Delta pull for UserStores with last_sync: 2026-01-06T18:34:02.598512
2026-01-06 18:39:04,263 - main - INFO - background_tasks.py:86 - Delta pull sync for UserStores completed successfully.
2026-01-06 18:39:04,263 - main - INFO - background_tasks.py:124 - No new records for UserStores during delta pull.
2026-01-06 18:39:06,963 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:39:07,271 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:39:07,271 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:39:07,271 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:39:07,272 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:39:07,274 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:39:07,423 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:39:07,572 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:39:07,573 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:39:07,573 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:39:07,574 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:39:07,892 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:39:08,197 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:39:08,198 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:39:08,198 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:39:08,198 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:39:39,968 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:39:40,161 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:39:40,336 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:39:40,336 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:39:40,336 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:40:07,267 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:40:07,270 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:40:07,444 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:40:07,599 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:40:07,600 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:40:07,600 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:40:07,600 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:40:07,604 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:40:07,645 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:40:07,645 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:40:07,645 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:40:07,645 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:40:07,914 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:40:07,915 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:40:07,915 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:40:07,916 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:40:40,266 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:40:41,292 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:40:41,609 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:40:41,609 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:40:41,609 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:41:06,972 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:41:07,278 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:41:07,448 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:41:07,448 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:41:07,448 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:41:07,448 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:41:07,493 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:41:07,706 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:41:07,706 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:41:07,706 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:41:07,707 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:41:08,029 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:41:08,457 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:41:08,457 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:41:08,457 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:41:08,458 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:42:06,975 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:42:07,280 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:42:07,284 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:42:07,459 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:42:07,459 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:42:07,459 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:42:07,459 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:42:07,574 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:42:07,648 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:42:07,790 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:42:07,790 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:42:07,790 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:42:07,790 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:42:07,830 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:42:07,830 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:42:07,830 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:42:08,100 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:42:08,494 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:42:08,494 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:42:08,494 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:42:08,494 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:43:07,282 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:43:07,283 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:43:07,284 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:43:07,695 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:43:07,717 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:43:07,884 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:43:07,884 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:43:07,884 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:43:07,884 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:43:07,887 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:43:07,927 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:43:07,927 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:43:07,927 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:43:07,938 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:43:07,938 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:43:07,939 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:43:07,939 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:43:08,239 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:43:08,240 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:43:08,240 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:43:08,241 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:44:02,638 - main - INFO - background_tasks.py:142 - Background JSON to Supabase push sync starting. Next push in 5 minutes.
2026-01-06 18:44:03,180 - main - INFO - background_tasks.py:76 - Background pull sync starting. Next sync in 5 minutes.
2026-01-06 18:44:03,180 - main - DEBUG - background_tasks.py:81 - Delta pull for Products with last_sync: 2026-01-06T18:39:01.692828
2026-01-06 18:44:03,398 - main - INFO - background_tasks.py:86 - Delta pull sync for Products completed successfully.
2026-01-06 18:44:03,398 - main - INFO - background_tasks.py:124 - No new records for Products during delta pull.
2026-01-06 18:44:03,399 - main - DEBUG - background_tasks.py:81 - Delta pull for Customers with last_sync: 2026-01-06T18:39:01.907123
2026-01-06 18:44:03,569 - main - INFO - background_tasks.py:86 - Delta pull sync for Customers completed successfully.
2026-01-06 18:44:03,569 - main - INFO - background_tasks.py:124 - No new records for Customers during delta pull.
2026-01-06 18:44:03,569 - main - DEBUG - background_tasks.py:81 - Delta pull for Users with last_sync: 2026-01-06T18:39:02.061381
2026-01-06 18:44:03,816 - main - INFO - background_tasks.py:142 - Background JSON to Supabase push sync starting. Next push in 5 minutes.
2026-01-06 18:44:04,108 - main - INFO - background_tasks.py:86 - Delta pull sync for Users completed successfully.
2026-01-06 18:44:04,109 - main - INFO - background_tasks.py:124 - No new records for Users during delta pull.
2026-01-06 18:44:04,109 - main - DEBUG - background_tasks.py:81 - Delta pull for Stores with last_sync: 2026-01-06T18:39:02.221746
2026-01-06 18:44:04,265 - main - INFO - background_tasks.py:76 - Background pull sync starting. Next sync in 5 minutes.
2026-01-06 18:44:04,265 - main - DEBUG - background_tasks.py:81 - Delta pull for Products with last_sync: 2026-01-06T18:39:02.757351
2026-01-06 18:44:04,267 - main - INFO - background_tasks.py:86 - Delta pull sync for Stores completed successfully.
2026-01-06 18:44:04,268 - main - INFO - background_tasks.py:124 - No new records for Stores during delta pull.
2026-01-06 18:44:04,268 - main - DEBUG - background_tasks.py:81 - Delta pull for SystemSettings with last_sync: 2026-01-06T18:39:02.379806
2026-01-06 18:44:04,444 - main - INFO - background_tasks.py:86 - Delta pull sync for SystemSettings completed successfully.
2026-01-06 18:44:04,444 - main - INFO - background_tasks.py:124 - No new records for SystemSettings during delta pull.
2026-01-06 18:44:04,445 - main - DEBUG - background_tasks.py:81 - Delta pull for Returns with last_sync: 2026-01-06T18:39:02.533710
2026-01-06 18:44:04,467 - main - INFO - background_tasks.py:86 - Delta pull sync for Products completed successfully.
2026-01-06 18:44:04,467 - main - INFO - background_tasks.py:124 - No new records for Products during delta pull.
2026-01-06 18:44:04,468 - main - DEBUG - background_tasks.py:81 - Delta pull for Customers with last_sync: 2026-01-06T18:39:02.998940
2026-01-06 18:44:04,478 - main - INFO - background_tasks.py:167 - Background JSON to Supabase push sync completed successfully. Stats: {'Products': {'pushed': 8}, 'Customers': {'pushed': 1}, 'Users': {'pushed': 2}, 'Stores': {'pushed': 8}, 'SystemSettings': {'pushed': 1}, 'Bills': {'pushed': 6}, 'BillFormats': {'pushed': 5}}
2026-01-06 18:44:04,620 - main - INFO - background_tasks.py:86 - Delta pull sync for Returns completed successfully.
2026-01-06 18:44:04,621 - main - INFO - background_tasks.py:124 - No new records for Returns during delta pull.
2026-01-06 18:44:04,621 - main - DEBUG - background_tasks.py:81 - Delta pull for Bills with last_sync: 2026-01-06T18:39:02.694293
2026-01-06 18:44:04,628 - main - INFO - background_tasks.py:86 - Delta pull sync for Customers completed successfully.
2026-01-06 18:44:04,628 - main - INFO - background_tasks.py:124 - No new records for Customers during delta pull.
2026-01-06 18:44:04,628 - main - DEBUG - background_tasks.py:81 - Delta pull for Users with last_sync: 2026-01-06T18:39:03.153541
2026-01-06 18:44:04,786 - main - INFO - background_tasks.py:86 - Delta pull sync for Bills completed successfully.
2026-01-06 18:44:04,786 - main - INFO - background_tasks.py:124 - No new records for Bills during delta pull.
2026-01-06 18:44:04,787 - main - DEBUG - background_tasks.py:81 - Delta pull for BillFormats with last_sync: 2026-01-06T18:39:02.860058
2026-01-06 18:44:04,791 - main - INFO - background_tasks.py:86 - Delta pull sync for Users completed successfully.
2026-01-06 18:44:04,791 - main - INFO - background_tasks.py:124 - No new records for Users during delta pull.
2026-01-06 18:44:04,791 - main - DEBUG - background_tasks.py:81 - Delta pull for Stores with last_sync: 2026-01-06T18:39:03.303504
2026-01-06 18:44:04,947 - main - INFO - background_tasks.py:86 - Delta pull sync for Stores completed successfully.
2026-01-06 18:44:04,949 - main - INFO - background_tasks.py:124 - No new records for Stores during delta pull.
2026-01-06 18:44:04,949 - main - DEBUG - background_tasks.py:81 - Delta pull for SystemSettings with last_sync: 2026-01-06T18:39:03.463270
2026-01-06 18:44:04,955 - main - INFO - background_tasks.py:86 - Delta pull sync for BillFormats completed successfully.
2026-01-06 18:44:04,956 - main - INFO - background_tasks.py:90 - Found 5 new/updated records for BillFormats.
2026-01-06 18:44:04,958 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json for BillFormats.
2026-01-06 18:44:04,959 - main - DEBUG - background_tasks.py:81 - Delta pull for UserStores with last_sync: 2026-01-06T18:39:03.023049
2026-01-06 18:44:05,147 - main - INFO - background_tasks.py:167 - Background JSON to Supabase push sync completed successfully. Stats: {'Products': {'pushed': 8}, 'Customers': {'pushed': 1}, 'Users': {'pushed': 2}, 'Stores': {'pushed': 8}, 'SystemSettings': {'pushed': 1}, 'Bills': {'pushed': 6}, 'BillFormats': {'pushed': 5}}
2026-01-06 18:44:05,151 - main - INFO - background_tasks.py:86 - Delta pull sync for SystemSettings completed successfully.
2026-01-06 18:44:05,151 - main - INFO - background_tasks.py:86 - Delta pull sync for UserStores completed successfully.
2026-01-06 18:44:05,152 - main - INFO - background_tasks.py:124 - No new records for SystemSettings during delta pull.
2026-01-06 18:44:05,152 - main - INFO - background_tasks.py:124 - No new records for UserStores during delta pull.
2026-01-06 18:44:05,152 - main - DEBUG - background_tasks.py:81 - Delta pull for Returns with last_sync: 2026-01-06T18:39:03.627874
2026-01-06 18:44:05,320 - main - INFO - background_tasks.py:86 - Delta pull sync for Returns completed successfully.
2026-01-06 18:44:05,321 - main - INFO - background_tasks.py:124 - No new records for Returns during delta pull.
2026-01-06 18:44:05,321 - main - DEBUG - background_tasks.py:81 - Delta pull for Bills with last_sync: 2026-01-06T18:39:03.785176
2026-01-06 18:44:05,478 - main - INFO - background_tasks.py:86 - Delta pull sync for Bills completed successfully.
2026-01-06 18:44:05,479 - main - INFO - background_tasks.py:124 - No new records for Bills during delta pull.
2026-01-06 18:44:05,480 - main - DEBUG - background_tasks.py:81 - Delta pull for BillFormats with last_sync: 2026-01-06T18:39:03.946171
2026-01-06 18:44:05,639 - main - INFO - background_tasks.py:86 - Delta pull sync for BillFormats completed successfully.
2026-01-06 18:44:05,640 - main - INFO - background_tasks.py:90 - Found 5 new/updated records for BillFormats.
2026-01-06 18:44:05,642 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json for BillFormats.
2026-01-06 18:44:05,642 - main - DEBUG - background_tasks.py:81 - Delta pull for UserStores with last_sync: 2026-01-06T18:39:04.101066
2026-01-06 18:44:05,812 - main - INFO - background_tasks.py:86 - Delta pull sync for UserStores completed successfully.
2026-01-06 18:44:05,814 - main - INFO - background_tasks.py:124 - No new records for UserStores during delta pull.
2026-01-06 18:44:07,267 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:44:07,268 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:44:07,270 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:44:07,429 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:44:07,432 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:44:07,589 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:44:07,593 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:44:07,595 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:44:07,596 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:44:07,596 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:44:07,597 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:44:07,599 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:44:07,599 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:44:07,601 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:44:07,602 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:44:07,602 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:44:07,624 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:44:07,949 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:44:07,949 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:44:07,949 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:44:07,949 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:45:07,285 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:45:07,288 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:45:07,297 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:45:07,472 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:45:07,485 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:45:07,638 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:45:07,639 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:45:07,639 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:45:07,737 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:45:07,738 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:45:07,738 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:45:07,739 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:45:07,751 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:45:07,794 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:45:07,794 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:45:07,795 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:45:07,795 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:45:08,082 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:45:08,082 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:45:08,083 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:45:08,084 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:46:07,291 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:46:07,293 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:46:07,295 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:46:07,541 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:46:07,552 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:46:07,689 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:46:07,690 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:46:07,690 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:46:07,691 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:46:07,698 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:46:07,699 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:46:07,699 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:46:07,734 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:46:07,735 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:46:07,735 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:46:07,735 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:46:07,740 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:46:08,079 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:46:08,079 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:46:08,079 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:46:08,079 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:47:07,294 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:47:07,297 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:47:07,300 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:47:07,489 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:47:07,493 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:47:07,654 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:47:07,656 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:47:07,656 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:47:07,656 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:47:07,667 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:47:07,704 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:47:07,705 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:47:07,705 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:47:07,798 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:47:07,799 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:47:07,799 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:47:07,799 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:47:07,984 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:47:07,985 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:47:07,985 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:47:07,986 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:48:07,272 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:48:07,272 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:48:07,272 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:48:07,461 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:48:07,471 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:48:07,636 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:48:07,636 - main - DEBUG - main.py:166 - [CORS] Request path: /api/sync/status
2026-01-06 18:48:07,636 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:48:07,642 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:48:07,642 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:48:07,642 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications
2026-01-06 18:48:07,642 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:48:07,646 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:48:07,671 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:48:07,671 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:48:07,671 - main - DEBUG - main.py:166 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:48:07,671 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:48:08,014 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:48:08,014 - main - DEBUG - main.py:165 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:48:08,014 - main - DEBUG - main.py:166 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:48:08,014 - main - DEBUG - main.py:179 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:48:18,879 - main - INFO - logger.py:128 - ================================================================================
2026-01-06 18:48:18,879 - main - INFO - logger.py:129 - ‚úÖ Logging configured for Windows
2026-01-06 18:48:18,879 - main - INFO - logger.py:130 - üìÅ Log file: D:\Siri-apps\Siri-billing-app\backend\data\logs\billing_app-2026-01-06.log
2026-01-06 18:48:18,880 - main - INFO - logger.py:131 - üóìÔ∏è Retention: 30 days
2026-01-06 18:48:18,880 - main - INFO - logger.py:134 - üîÑ Rotation: Manual (Windows mode - prevents file locking)
2026-01-06 18:48:18,882 - main - INFO - logger.py:138 - ================================================================================
2026-01-06 18:48:18,882 - main - INFO - main.py:136 - üöÄ Billing Flask server starting up...
2026-01-06 18:48:18,882 - main - INFO - main.py:137 - JWT Configuration:
2026-01-06 18:48:18,882 - main - INFO - main.py:138 -   JWT_TOKEN_LOCATION: ['headers', 'cookies']
2026-01-06 18:48:18,882 - main - INFO - main.py:139 -   JWT_COOKIE_NAME: access_token_cookie
2026-01-06 18:48:18,883 - main - INFO - main.py:140 -   JWT_COOKIE_SECURE: False
2026-01-06 18:48:18,883 - main - INFO - main.py:141 -   JWT_COOKIE_SAMESITE: Lax
2026-01-06 18:48:18,883 - main - INFO - main.py:142 -   JWT_ACCESS_TOKEN_EXPIRES: 2:00:00
2026-01-06 18:48:18,900 - main - INFO - main.py:326 - üöÄ Billing Flask server starting...
2026-01-06 18:48:18,900 - main - INFO - main.py:330 - üì° Server will run on localhost:8080
2026-01-06 18:48:18,900 - main - INFO - main.py:331 - üîí CORS: Accepting requests from local machine
2026-01-06 18:48:18,901 - main - INFO - main.py:336 - üêç Running in development mode
2026-01-06 18:48:18,901 - main - INFO - background_tasks.py:35 - Starting initial full sync for missing JSON files.
2026-01-06 18:48:18,901 - main - INFO - background_tasks.py:185 - Background pull sync scheduler (Supabase -> JSON) started.
2026-01-06 18:48:18,902 - main - INFO - background_tasks.py:65 - JSON file for Products already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\products.json. Skipping initial full pull.
2026-01-06 18:48:18,903 - main - INFO - background_tasks.py:140 - Starting background JSON to Supabase push sync scheduler.
2026-01-06 18:48:18,903 - main - INFO - background_tasks.py:192 - Background JSON to Supabase push sync scheduler (JSON -> Supabase) started.
2026-01-06 18:48:18,903 - main - INFO - background_tasks.py:65 - JSON file for Customers already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\customers.json. Skipping initial full pull.
2026-01-06 18:48:18,903 - main - INFO - background_tasks.py:142 - Background JSON to Supabase push sync starting. Next push in 5 minutes.
2026-01-06 18:48:18,906 - main - INFO - background_tasks.py:65 - JSON file for Users already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\users.json. Skipping initial full pull.
2026-01-06 18:48:18,906 - main - INFO - background_tasks.py:65 - JSON file for Stores already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\stores.json. Skipping initial full pull.
2026-01-06 18:48:18,906 - main - INFO - background_tasks.py:65 - JSON file for SystemSettings already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\system_settings.json. Skipping initial full pull.
2026-01-06 18:48:18,906 - main - INFO - background_tasks.py:65 - JSON file for Returns already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\returns.json. Skipping initial full pull.
2026-01-06 18:48:18,906 - main - INFO - background_tasks.py:65 - JSON file for Bills already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\bills.json. Skipping initial full pull.
2026-01-06 18:48:18,906 - main - INFO - background_tasks.py:65 - JSON file for BillFormats already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json. Skipping initial full pull.
2026-01-06 18:48:18,910 - main - INFO - background_tasks.py:65 - JSON file for UserStores already exists at D:\Siri-apps\Siri-billing-app\backend\data\json\userstores.json. Skipping initial full pull.
2026-01-06 18:48:18,910 - main - INFO - background_tasks.py:66 - Initial full sync completed.
2026-01-06 18:48:18,911 - main - INFO - background_tasks.py:76 - Background pull sync starting. Next sync in 5 minutes.
2026-01-06 18:48:18,911 - main - DEBUG - background_tasks.py:81 - Delta pull for Products with last_sync: None
2026-01-06 18:48:19,137 - main - INFO - background_tasks.py:86 - Delta pull sync for Products completed successfully.
2026-01-06 18:48:19,137 - main - INFO - background_tasks.py:90 - Found 8 new/updated records for Products.
2026-01-06 18:48:19,137 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\products.json for Products.
2026-01-06 18:48:19,137 - main - DEBUG - background_tasks.py:81 - Delta pull for Customers with last_sync: None
2026-01-06 18:48:19,306 - main - INFO - background_tasks.py:86 - Delta pull sync for Customers completed successfully.
2026-01-06 18:48:19,306 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for Customers.
2026-01-06 18:48:19,307 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\customers.json for Customers.
2026-01-06 18:48:19,307 - main - DEBUG - background_tasks.py:81 - Delta pull for Users with last_sync: None
2026-01-06 18:48:19,471 - main - INFO - background_tasks.py:86 - Delta pull sync for Users completed successfully.
2026-01-06 18:48:19,471 - main - INFO - background_tasks.py:90 - Found 3 new/updated records for Users.
2026-01-06 18:48:19,471 - main - INFO - background_tasks.py:98 - Filtered out admin/super_admin users. 2 users remaining.
2026-01-06 18:48:19,473 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\users.json for Users.
2026-01-06 18:48:19,473 - main - DEBUG - background_tasks.py:81 - Delta pull for Stores with last_sync: None
2026-01-06 18:48:19,622 - main - INFO - background_tasks.py:86 - Delta pull sync for Stores completed successfully.
2026-01-06 18:48:19,623 - main - INFO - background_tasks.py:90 - Found 8 new/updated records for Stores.
2026-01-06 18:48:19,623 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\stores.json for Stores.
2026-01-06 18:48:19,623 - main - DEBUG - background_tasks.py:81 - Delta pull for SystemSettings with last_sync: None
2026-01-06 18:48:19,789 - main - INFO - background_tasks.py:86 - Delta pull sync for SystemSettings completed successfully.
2026-01-06 18:48:19,789 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for SystemSettings.
2026-01-06 18:48:19,789 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\system_settings.json for SystemSettings.
2026-01-06 18:48:19,789 - main - DEBUG - background_tasks.py:81 - Delta pull for Returns with last_sync: None
2026-01-06 18:48:19,939 - main - INFO - background_tasks.py:86 - Delta pull sync for Returns completed successfully.
2026-01-06 18:48:19,939 - main - INFO - background_tasks.py:90 - Found 2 new/updated records for Returns.
2026-01-06 18:48:19,939 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\returns.json for Returns.
2026-01-06 18:48:19,939 - main - DEBUG - background_tasks.py:81 - Delta pull for Bills with last_sync: None
2026-01-06 18:48:20,129 - main - INFO - background_tasks.py:86 - Delta pull sync for Bills completed successfully.
2026-01-06 18:48:20,129 - main - INFO - background_tasks.py:90 - Found 6 new/updated records for Bills.
2026-01-06 18:48:20,137 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bills.json for Bills.
2026-01-06 18:48:20,137 - main - DEBUG - background_tasks.py:81 - Delta pull for BillFormats with last_sync: None
2026-01-06 18:48:20,191 - main - INFO - background_tasks.py:167 - Background JSON to Supabase push sync completed successfully. Stats: {'Products': {'pushed': 8}, 'Customers': {'pushed': 1}, 'Users': {'pushed': 2}, 'Stores': {'pushed': 8}, 'SystemSettings': {'pushed': 1}, 'Bills': {'pushed': 6}, 'BillFormats': {'pushed': 5}}
2026-01-06 18:48:20,293 - main - INFO - background_tasks.py:86 - Delta pull sync for BillFormats completed successfully.
2026-01-06 18:48:20,294 - main - INFO - background_tasks.py:90 - Found 5 new/updated records for BillFormats.
2026-01-06 18:48:20,294 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json for BillFormats.
2026-01-06 18:48:20,295 - main - DEBUG - background_tasks.py:81 - Delta pull for UserStores with last_sync: None
2026-01-06 18:48:20,467 - main - INFO - background_tasks.py:86 - Delta pull sync for UserStores completed successfully.
2026-01-06 18:48:20,468 - main - INFO - background_tasks.py:90 - Found 1 new/updated records for UserStores.
2026-01-06 18:48:20,475 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\userstores.json for UserStores.
2026-01-06 18:48:26,035 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:48:26,035 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:48:26,213 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:48:26,363 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:48:26,363 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:48:26,363 - main - DEBUG - main.py:208 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:48:26,363 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:48:26,376 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:48:26,377 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:48:26,377 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications
2026-01-06 18:48:26,377 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:48:26,382 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:48:26,726 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:48:26,726 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:48:26,727 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:48:26,727 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:48:40,288 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:48:40,289 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:48:40,292 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:48:40,476 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:48:40,512 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:48:40,632 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:48:40,632 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:48:40,632 - main - DEBUG - main.py:208 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:48:40,632 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:48:40,642 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:48:40,642 - main - DEBUG - main.py:208 - [CORS] Request path: /api/sync/status
2026-01-06 18:48:40,642 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:48:40,690 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:48:40,718 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:48:40,718 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications
2026-01-06 18:48:40,718 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:48:40,923 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:48:41,243 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:48:41,243 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:48:41,243 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:48:41,243 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:49:04,485 - main - INFO - background_tasks.py:142 - Background JSON to Supabase push sync starting. Next push in 5 minutes.
2026-01-06 18:49:05,155 - main - INFO - background_tasks.py:76 - Background pull sync starting. Next sync in 5 minutes.
2026-01-06 18:49:05,155 - main - DEBUG - background_tasks.py:81 - Delta pull for Products with last_sync: 2026-01-06T18:44:03.180887
2026-01-06 18:49:05,377 - main - INFO - background_tasks.py:86 - Delta pull sync for Products completed successfully.
2026-01-06 18:49:05,378 - main - INFO - background_tasks.py:124 - No new records for Products during delta pull.
2026-01-06 18:49:05,378 - main - DEBUG - background_tasks.py:81 - Delta pull for Customers with last_sync: 2026-01-06T18:44:03.399767
2026-01-06 18:49:05,547 - main - INFO - background_tasks.py:86 - Delta pull sync for Customers completed successfully.
2026-01-06 18:49:05,547 - main - INFO - background_tasks.py:124 - No new records for Customers during delta pull.
2026-01-06 18:49:05,547 - main - DEBUG - background_tasks.py:81 - Delta pull for Users with last_sync: 2026-01-06T18:44:03.569180
2026-01-06 18:49:05,714 - main - INFO - background_tasks.py:86 - Delta pull sync for Users completed successfully.
2026-01-06 18:49:05,714 - main - INFO - background_tasks.py:124 - No new records for Users during delta pull.
2026-01-06 18:49:05,714 - main - DEBUG - background_tasks.py:81 - Delta pull for Stores with last_sync: 2026-01-06T18:44:04.109759
2026-01-06 18:49:05,893 - main - INFO - background_tasks.py:86 - Delta pull sync for Stores completed successfully.
2026-01-06 18:49:05,893 - main - INFO - background_tasks.py:124 - No new records for Stores during delta pull.
2026-01-06 18:49:05,894 - main - DEBUG - background_tasks.py:81 - Delta pull for SystemSettings with last_sync: 2026-01-06T18:44:04.268587
2026-01-06 18:49:06,058 - main - INFO - background_tasks.py:86 - Delta pull sync for SystemSettings completed successfully.
2026-01-06 18:49:06,058 - main - INFO - background_tasks.py:124 - No new records for SystemSettings during delta pull.
2026-01-06 18:49:06,058 - main - DEBUG - background_tasks.py:81 - Delta pull for Returns with last_sync: 2026-01-06T18:44:04.445279
2026-01-06 18:49:06,219 - main - INFO - background_tasks.py:86 - Delta pull sync for Returns completed successfully.
2026-01-06 18:49:06,219 - main - INFO - background_tasks.py:124 - No new records for Returns during delta pull.
2026-01-06 18:49:06,219 - main - DEBUG - background_tasks.py:81 - Delta pull for Bills with last_sync: 2026-01-06T18:44:04.621832
2026-01-06 18:49:06,373 - main - INFO - background_tasks.py:86 - Delta pull sync for Bills completed successfully.
2026-01-06 18:49:06,373 - main - INFO - background_tasks.py:124 - No new records for Bills during delta pull.
2026-01-06 18:49:06,373 - main - DEBUG - background_tasks.py:81 - Delta pull for BillFormats with last_sync: 2026-01-06T18:44:04.787467
2026-01-06 18:49:06,552 - main - INFO - background_tasks.py:86 - Delta pull sync for BillFormats completed successfully.
2026-01-06 18:49:06,553 - main - INFO - background_tasks.py:90 - Found 5 new/updated records for BillFormats.
2026-01-06 18:49:06,554 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json for BillFormats.
2026-01-06 18:49:06,554 - main - DEBUG - background_tasks.py:81 - Delta pull for UserStores with last_sync: 2026-01-06T18:44:04.959256
2026-01-06 18:49:06,579 - main - INFO - background_tasks.py:167 - Background JSON to Supabase push sync completed successfully. Stats: {'Products': {'pushed': 8}, 'Customers': {'pushed': 1}, 'Users': {'pushed': 2}, 'Stores': {'pushed': 8}, 'SystemSettings': {'pushed': 1}, 'Bills': {'pushed': 6}, 'BillFormats': {'pushed': 5}}
2026-01-06 18:49:06,710 - main - INFO - background_tasks.py:86 - Delta pull sync for UserStores completed successfully.
2026-01-06 18:49:06,713 - main - INFO - background_tasks.py:124 - No new records for UserStores during delta pull.
2026-01-06 18:49:10,146 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:49:10,148 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:49:10,303 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:49:10,486 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:49:10,486 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:49:10,486 - main - DEBUG - main.py:208 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:49:10,486 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:49:10,516 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:49:10,516 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:49:10,516 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications
2026-01-06 18:49:10,516 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:49:10,524 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:49:10,854 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:49:10,855 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:49:10,855 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:49:10,855 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:49:40,286 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:49:40,288 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:49:40,292 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:49:40,453 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:49:40,475 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:49:40,621 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:49:40,621 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:49:40,621 - main - DEBUG - main.py:208 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:49:40,621 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:49:40,628 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:49:40,628 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:49:40,628 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications
2026-01-06 18:49:40,628 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:49:40,636 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:49:40,636 - main - DEBUG - main.py:208 - [CORS] Request path: /api/sync/status
2026-01-06 18:49:40,636 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:49:40,644 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:49:40,946 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:49:40,948 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:49:40,948 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:49:40,948 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:51:07,286 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:51:07,289 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:51:07,298 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:51:08,014 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:51:08,022 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:51:08,187 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:51:08,191 - main - DEBUG - main.py:208 - [CORS] Request path: /api/sync/status
2026-01-06 18:51:08,191 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:51:08,199 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:51:08,204 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:51:08,204 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications
2026-01-06 18:51:08,204 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:51:08,209 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:51:08,209 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:51:08,209 - main - DEBUG - main.py:208 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:51:08,209 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:51:08,222 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:51:08,559 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:51:08,559 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:51:08,559 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:51:08,559 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:52:07,264 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:52:07,266 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:52:07,269 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:52:07,463 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:52:07,487 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:52:07,638 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:52:07,639 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:52:07,639 - main - DEBUG - main.py:208 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:52:07,640 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:52:07,654 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:52:07,655 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:52:07,655 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications
2026-01-06 18:52:07,655 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:52:07,667 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:52:07,674 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:52:07,674 - main - DEBUG - main.py:208 - [CORS] Request path: /api/sync/status
2026-01-06 18:52:07,674 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:52:08,030 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:52:08,030 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:52:08,030 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:52:08,030 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:52:15,783 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:52:15,785 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:52:15,948 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:52:16,127 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:52:16,127 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:52:16,127 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications
2026-01-06 18:52:16,127 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:52:16,127 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:52:16,127 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:52:16,127 - main - DEBUG - main.py:208 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:52:16,127 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:52:16,155 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:52:16,506 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:52:16,506 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:52:16,506 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:52:16,506 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:52:40,291 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:52:40,297 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:52:40,302 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:52:40,442 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:52:40,476 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:52:40,627 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:52:40,629 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:52:40,629 - main - DEBUG - main.py:208 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:52:40,629 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:52:40,633 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:52:40,633 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:52:40,633 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications
2026-01-06 18:52:40,633 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:52:40,650 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:52:40,661 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:52:40,661 - main - DEBUG - main.py:208 - [CORS] Request path: /api/sync/status
2026-01-06 18:52:40,661 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:52:40,977 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:52:40,977 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:52:40,977 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:52:40,977 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:53:10,275 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:53:10,278 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:53:10,821 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:53:10,821 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:53:10,821 - main - DEBUG - main.py:208 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:53:10,821 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:53:10,911 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:53:11,059 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:53:11,073 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:53:11,073 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications
2026-01-06 18:53:11,073 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:53:11,085 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:53:11,419 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:53:11,420 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:53:11,420 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:53:11,420 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:53:20,205 - main - INFO - background_tasks.py:142 - Background JSON to Supabase push sync starting. Next push in 5 minutes.
2026-01-06 18:53:20,484 - main - INFO - background_tasks.py:76 - Background pull sync starting. Next sync in 5 minutes.
2026-01-06 18:53:20,484 - main - DEBUG - background_tasks.py:81 - Delta pull for Products with last_sync: 2026-01-06T18:48:18.911637
2026-01-06 18:53:20,647 - main - INFO - background_tasks.py:86 - Delta pull sync for Products completed successfully.
2026-01-06 18:53:20,647 - main - INFO - background_tasks.py:124 - No new records for Products during delta pull.
2026-01-06 18:53:20,647 - main - DEBUG - background_tasks.py:81 - Delta pull for Customers with last_sync: 2026-01-06T18:48:19.137515
2026-01-06 18:53:20,808 - main - INFO - background_tasks.py:86 - Delta pull sync for Customers completed successfully.
2026-01-06 18:53:20,808 - main - INFO - background_tasks.py:124 - No new records for Customers during delta pull.
2026-01-06 18:53:20,808 - main - DEBUG - background_tasks.py:81 - Delta pull for Users with last_sync: 2026-01-06T18:48:19.307488
2026-01-06 18:53:20,977 - main - INFO - background_tasks.py:86 - Delta pull sync for Users completed successfully.
2026-01-06 18:53:20,977 - main - INFO - background_tasks.py:124 - No new records for Users during delta pull.
2026-01-06 18:53:20,977 - main - DEBUG - background_tasks.py:81 - Delta pull for Stores with last_sync: 2026-01-06T18:48:19.473257
2026-01-06 18:53:21,128 - main - INFO - background_tasks.py:86 - Delta pull sync for Stores completed successfully.
2026-01-06 18:53:21,142 - main - INFO - background_tasks.py:124 - No new records for Stores during delta pull.
2026-01-06 18:53:21,142 - main - DEBUG - background_tasks.py:81 - Delta pull for SystemSettings with last_sync: 2026-01-06T18:48:19.625170
2026-01-06 18:53:21,298 - main - INFO - background_tasks.py:86 - Delta pull sync for SystemSettings completed successfully.
2026-01-06 18:53:21,299 - main - INFO - background_tasks.py:124 - No new records for SystemSettings during delta pull.
2026-01-06 18:53:21,301 - main - DEBUG - background_tasks.py:81 - Delta pull for Returns with last_sync: 2026-01-06T18:48:19.789505
2026-01-06 18:53:21,429 - main - INFO - background_tasks.py:167 - Background JSON to Supabase push sync completed successfully. Stats: {'Products': {'pushed': 8}, 'Customers': {'pushed': 1}, 'Users': {'pushed': 2}, 'Stores': {'pushed': 8}, 'SystemSettings': {'pushed': 1}, 'Bills': {'pushed': 6}, 'BillFormats': {'pushed': 5}}
2026-01-06 18:53:21,452 - main - INFO - background_tasks.py:86 - Delta pull sync for Returns completed successfully.
2026-01-06 18:53:21,452 - main - INFO - background_tasks.py:124 - No new records for Returns during delta pull.
2026-01-06 18:53:21,453 - main - DEBUG - background_tasks.py:81 - Delta pull for Bills with last_sync: 2026-01-06T18:48:19.939512
2026-01-06 18:53:21,608 - main - INFO - background_tasks.py:86 - Delta pull sync for Bills completed successfully.
2026-01-06 18:53:21,608 - main - INFO - background_tasks.py:124 - No new records for Bills during delta pull.
2026-01-06 18:53:21,608 - main - DEBUG - background_tasks.py:81 - Delta pull for BillFormats with last_sync: 2026-01-06T18:48:20.137887
2026-01-06 18:53:21,778 - main - INFO - background_tasks.py:86 - Delta pull sync for BillFormats completed successfully.
2026-01-06 18:53:21,778 - main - INFO - background_tasks.py:90 - Found 5 new/updated records for BillFormats.
2026-01-06 18:53:21,784 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json for BillFormats.
2026-01-06 18:53:21,784 - main - DEBUG - background_tasks.py:81 - Delta pull for UserStores with last_sync: 2026-01-06T18:48:20.295565
2026-01-06 18:53:21,951 - main - INFO - background_tasks.py:86 - Delta pull sync for UserStores completed successfully.
2026-01-06 18:53:21,953 - main - INFO - background_tasks.py:124 - No new records for UserStores during delta pull.
2026-01-06 18:54:06,583 - main - INFO - background_tasks.py:142 - Background JSON to Supabase push sync starting. Next push in 5 minutes.
2026-01-06 18:54:06,726 - main - INFO - background_tasks.py:76 - Background pull sync starting. Next sync in 5 minutes.
2026-01-06 18:54:06,726 - main - DEBUG - background_tasks.py:81 - Delta pull for Products with last_sync: 2026-01-06T18:49:05.155095
2026-01-06 18:54:06,967 - main - INFO - background_tasks.py:86 - Delta pull sync for Products completed successfully.
2026-01-06 18:54:06,969 - main - INFO - background_tasks.py:124 - No new records for Products during delta pull.
2026-01-06 18:54:06,969 - main - DEBUG - background_tasks.py:81 - Delta pull for Customers with last_sync: 2026-01-06T18:49:05.378300
2026-01-06 18:54:07,136 - main - INFO - background_tasks.py:86 - Delta pull sync for Customers completed successfully.
2026-01-06 18:54:07,136 - main - INFO - background_tasks.py:124 - No new records for Customers during delta pull.
2026-01-06 18:54:07,143 - main - DEBUG - background_tasks.py:81 - Delta pull for Users with last_sync: 2026-01-06T18:49:05.547617
2026-01-06 18:54:07,294 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:54:07,304 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:54:07,314 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:54:07,320 - main - INFO - background_tasks.py:86 - Delta pull sync for Users completed successfully.
2026-01-06 18:54:07,321 - main - INFO - background_tasks.py:124 - No new records for Users during delta pull.
2026-01-06 18:54:07,321 - main - DEBUG - background_tasks.py:81 - Delta pull for Stores with last_sync: 2026-01-06T18:49:05.714708
2026-01-06 18:54:07,479 - main - INFO - sync_routes.py:15 - User 0497138a-918d-4859-9fda-56f413f1f97e fetching sync status
2026-01-06 18:54:07,498 - main - INFO - background_tasks.py:86 - Delta pull sync for Stores completed successfully.
2026-01-06 18:54:07,498 - main - INFO - background_tasks.py:124 - No new records for Stores during delta pull.
2026-01-06 18:54:07,498 - main - DEBUG - background_tasks.py:81 - Delta pull for SystemSettings with last_sync: 2026-01-06T18:49:05.894630
2026-01-06 18:54:07,577 - main - INFO - notification_routes.py:18 - üì¨ User 0497138a-918d-4859-9fda-56f413f1f97e fetching notifications
2026-01-06 18:54:07,648 - main - DEBUG - return_routes.py:348 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e fetched pending returns count: 1
2026-01-06 18:54:07,649 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:54:07,649 - main - DEBUG - main.py:208 - [CORS] Request path: /api/returns/pending/count
2026-01-06 18:54:07,649 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:54:07,666 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:54:07,666 - main - DEBUG - main.py:208 - [CORS] Request path: /api/sync/status
2026-01-06 18:54:07,666 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:54:07,685 - main - INFO - background_tasks.py:86 - Delta pull sync for SystemSettings completed successfully.
2026-01-06 18:54:07,685 - main - INFO - background_tasks.py:124 - No new records for SystemSettings during delta pull.
2026-01-06 18:54:07,685 - main - DEBUG - background_tasks.py:81 - Delta pull for Returns with last_sync: 2026-01-06T18:49:06.059390
2026-01-06 18:54:07,749 - main - INFO - notification_routes.py:29 - ‚úÖ Fetched 0 notifications
2026-01-06 18:54:07,749 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:54:07,749 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications
2026-01-06 18:54:07,749 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:54:07,749 - main - INFO - auth.py:20 - Authenticating user_id from JWT: 0497138a-918d-4859-9fda-56f413f1f97e
2026-01-06 18:54:07,862 - main - INFO - background_tasks.py:86 - Delta pull sync for Returns completed successfully.
2026-01-06 18:54:07,862 - main - INFO - background_tasks.py:124 - No new records for Returns during delta pull.
2026-01-06 18:54:07,862 - main - DEBUG - background_tasks.py:81 - Delta pull for Bills with last_sync: 2026-01-06T18:49:06.219696
2026-01-06 18:54:07,972 - main - INFO - background_tasks.py:167 - Background JSON to Supabase push sync completed successfully. Stats: {'Products': {'pushed': 8}, 'Customers': {'pushed': 1}, 'Users': {'pushed': 2}, 'Stores': {'pushed': 8}, 'SystemSettings': {'pushed': 1}, 'Bills': {'pushed': 6}, 'BillFormats': {'pushed': 5}}
2026-01-06 18:54:08,017 - main - INFO - background_tasks.py:86 - Delta pull sync for Bills completed successfully.
2026-01-06 18:54:08,017 - main - INFO - background_tasks.py:124 - No new records for Bills during delta pull.
2026-01-06 18:54:08,017 - main - DEBUG - background_tasks.py:81 - Delta pull for BillFormats with last_sync: 2026-01-06T18:49:06.373946
2026-01-06 18:54:08,138 - main - DEBUG - notification_routes.py:51 - üìä User 0497138a-918d-4859-9fda-56f413f1f97e has 0 unread notifications
2026-01-06 18:54:08,138 - main - DEBUG - main.py:207 - [CORS] Request from origin: http://localhost:3000
2026-01-06 18:54:08,138 - main - DEBUG - main.py:208 - [CORS] Request path: /api/notifications/unread/count
2026-01-06 18:54:08,139 - main - DEBUG - main.py:220 - [CORS] Added CORS headers for origin: http://localhost:3000
2026-01-06 18:54:08,185 - main - INFO - background_tasks.py:86 - Delta pull sync for BillFormats completed successfully.
2026-01-06 18:54:08,185 - main - INFO - background_tasks.py:90 - Found 5 new/updated records for BillFormats.
2026-01-06 18:54:08,185 - main - INFO - background_tasks.py:122 - Merged and updated D:\Siri-apps\Siri-billing-app\backend\data\json\bill_formats.json for BillFormats.
2026-01-06 18:54:08,185 - main - DEBUG - background_tasks.py:81 - Delta pull for UserStores with last_sync: 2026-01-06T18:49:06.554727
2026-01-06 18:54:08,359 - main - INFO - background_tasks.py:86 - Delta pull sync for UserStores completed successfully.
2026-01-06 18:54:08,359 - main - INFO - background_tasks.py:124 - No new records for UserStores during delta pull.
2026-01-06 18:54:13,275 - main - INFO - main.py:353 - üõë Server stopped, cleaning up...
2026-01-06 18:54:13,277 - main - INFO - main.py:380 - üëã Goodbye!
